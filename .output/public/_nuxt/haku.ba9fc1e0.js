import{G as ro,q as Zn,e as E,f as Ie,H as Hn,o as G,c as te,Q as Wr,R as Dn,t as We,S as fn,U as Ce,V as no,w as Je,v as Se,W as io,X as ao,a as so,b as je,u as rt,i as oo}from"./entry.6459f43d.js";import{u as uo}from"./composables.3fe53a4a.js";const co=()=>ro().$algolia;function fo(e,t,r){if(!e)throw new Error("You need to provide `widgetName` in your data");var n=["ais-"+e];return t&&n.push("-"+t),r&&n.push("--"+r),n.join("")}var M=function(e){var t=e.name;return{props:{classNames:{type:Object,default:void 0}},methods:{suit:function(r,n){var i=fo(t,r,n),a=this.classNames&&this.classNames[i];return a?[i,a].join(" "):i}}}};function jt(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r]!=null?t[r]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){lo(e,a,n[a])})}return e}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ho=!1,mo=!0;function fr(e){function t(r,n,i){if(typeof n=="object"&&(n.attrs||n.props)){var a=Object.assign({},n,n.attrs,n.props);return delete a.attrs,delete a.props,Zn(r,a,i)}return Zn(r,n,i)}return function(){return e.call(this,t)}}function Cr(e){return e.$slots.default&&e.$slots.default()}var Xn=new Set;function Rt(e){Xn.has(e)||(Xn.add(e),console.warn(e))}var B=function(e,t){var r;e===void 0&&(e={});var n=e.connector;return t===void 0&&(t={}),(r={inject:{instantSearchInstance:{from:"$_ais_instantSearchInstance",default:function(){var i=this.$options._componentTag;throw new TypeError('It looks like you forgot to wrap your Algolia search component "<'+i+'>" inside of an "<ais-instant-search>" component.')}},getParentIndex:{from:"$_ais_getParentIndex",default:function(){var i=this;return function(){return i.instantSearchInstance.mainIndex}}}},data:function(){return{state:null}},created:function(){if(typeof n=="function"){if(this.factory=n(this.updateState,function(){}),this.widget=jt(this.factory(this.widgetParams),t),this.getParentIndex().addWidgets([this.widget]),this.instantSearchInstance._initialResults&&!this.instantSearchInstance.started){if(typeof this.instantSearchInstance.__forceRender!="function")throw new Error("You are using server side rendering with <ais-instant-search> instead of <ais-instant-search-ssr>.");this.instantSearchInstance.__forceRender(this.widget,this.getParentIndex())}}else n!==!0&&Rt(`You are using the InstantSearch widget mixin, but didn't provide a connector.
While this is technically possible, and will give you access to the Helper,
it's not the recommended way of making custom components.

If you want to disable this message, pass { connector: true } to the mixin.

Read more on using connectors: https://alg.li/vue-custom`)}}).beforeUnmount=function(){this.widget&&this.getParentIndex().removeWidgets([this.widget])},r.watch={widgetParams:{handler:function(i){this.state=null,this.getParentIndex().removeWidgets([this.widget]),this.widget=jt(this.factory(i),t),this.getParentIndex().addWidgets([this.widget])},deep:!0}},r.methods={updateState:function(i,a){i===void 0&&(i={}),a||(this.state=i)}},r};function C(){}var lr=function(t,r){return t};function go(e){return Object.prototype.toString.call(e).slice(8,-1)}function Y(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(go(e),`).

`).concat(t))}function ei(e){var t=e.helper,r=e.attributesToClear,n=r===void 0?[]:r,i=t.state.setPage(0);return i=n.reduce(function(a,s){return i.isNumericRefined(s)?a.removeNumericRefinement(s):i.isHierarchicalFacet(s)?a.removeHierarchicalFacetRefinement(s):i.isDisjunctiveFacet(s)?a.removeDisjunctiveFacetRefinement(s):i.isConjunctiveFacet(s)?a.removeFacetRefinement(s):a},i),n.indexOf("query")!==-1&&(i=i.setQuery("")),i}var po={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ha=/[&<>"']/g,vo=RegExp(Ha.source);function yo(e){return e&&vo.test(e)?e.replace(Ha,function(t){return po[t]}):e}var bo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Da=/&(amp|quot|lt|gt|#39);/g,So=RegExp(Da.source);function wo(e){return e&&So.test(e)?e.replace(Da,function(t){return bo[t]}):e}function ln(e){return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(e)}function Po(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Ro(e){return ln(e)==="object"&&e!==null}function La(e){if(!Ro(e)||Po(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ft(e){return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}function Oo(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hn.apply(this,arguments)}function ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ti(Object(r),!0).forEach(function(n){Na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Na(e,t,r){return t=$o(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $o(e){var t=jo(e,"string");return Ft(t)==="symbol"?t:String(t)}function jo(e,t){if(Ft(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ft(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var He={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},ue={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Wa(e){return yo(e).replace(new RegExp(He.highlightPreTag,"g"),ue.highlightPreTag).replace(new RegExp(He.highlightPostTag,"g"),ue.highlightPostTag)}function Ir(e){return La(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,r){return ut(ut({},t),{},Na({},r,Ir(e[r])))},{}):Array.isArray(e)?e.map(Ir):ut(ut({},e),{},{value:Wa(e.value)})}function Ln(e){return e.__escaped===void 0&&(e=e.map(function(t){var r=hn({},(Oo(t),t));return r._highlightResult&&(r._highlightResult=Ir(r._highlightResult)),r._snippetResult&&(r._snippetResult=Ir(r._snippetResult)),r}),e.__escaped=!0),e}function Fo(e){return e.map(function(t){return ut(ut({},t),{},{highlighted:Wa(t.highlighted)})})}function Ca(e){var t=ue.highlightPreTag,r=ue.highlightPostTag;return e.map(function(n){return n.isHighlighted?t+n.value+r:n.value}).join("")}function xo(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}function dn(e){return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}function Nn(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType,a=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=c[0],p=c[1],d=c[2],m=d===void 0?"Filter Applied":d,h=typeof n=="string"?n:n(p);c.length===1&&dn(c[0])==="object"?t.sendEventToInsights(c[0]):f==="click"&&(c.length===2||c.length===3)&&(xo(r,h,p)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:f,payload:{eventName:m,index:r.getIndex(),filters:["".concat(h,":").concat(p)]},attribute:h}))};return a}function Ma(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function mn(e){return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}function _o(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}var Ua=function(t){var r=t.index,n=t.widgetType;t.methodName;var i=t.args,a=t.instantSearchInstance;if(i.length===1&&mn(i[0])==="object")return[i[0]];var s=i[0],o=i[1],c=i[2];if(!o)return[];if((s==="click"||s==="conversion")&&!c)return[];var u=Array.isArray(o)?Io(o):[o];if(u.length===0)return[];var f=u[0].__queryID,p=_o(u),d=p.map(function(h){return h.map(function(l){return l.objectID})}),m=p.map(function(h){return h.map(function(l){return l.__position})});return s==="view"?a.status!=="idle"?[]:p.map(function(h,l){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:s,payload:{eventName:c||"Hits Viewed",index:r,objectIDs:d[l]},hits:h}}):s==="click"?p.map(function(h,l){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:s,payload:{eventName:c,index:r,queryID:f,objectIDs:d[l],positions:m[l]},hits:h}}):s==="conversion"?p.map(function(h,l){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:s,payload:{eventName:c,index:r,queryID:f,objectIDs:d[l]},hits:h}}):[]};function Io(e){return e.slice()}function Wn(e){var t=e.instantSearchInstance,r=e.index,n=e.widgetType,i=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=Ua({widgetType:n,index:r,methodName:"sendEvent",args:o,instantSearchInstance:t});u.forEach(function(f){return t.sendEventToInsights(f)})};return i}function Qa(e){var t=e.index,r=e.widgetType,n=e.instantSearchInstance,i=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=Ua({widgetType:r,index:t,methodName:"bindEvent",args:o,instantSearchInstance:n});return u.length?"data-insights-event=".concat(Ma(u)):""};return i}function dt(e){return e.$$type==="ais.index"}function gn(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(dt).forEach(function(n){return gn(e,n)})}var Eo=Promise.resolve();function pt(e){var t=null,r=!1,n=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];t===null&&(t=Eo.then(function(){if(t=null,r){r=!1;return}e.apply(void 0,s)}))};return n.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){t!==null&&(r=!0)},n}function To(e){var t=e.name,r=e.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",n?"#connector":""].join("")}function K(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(i){return To(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function Ao(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function bt(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function tt(e,t){for(var r,n=0;n<e.length;n++)if(r=e[n],t(r,n,e))return r}function Ho(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function qa(e){var t=ue.highlightPostTag,r=ue.highlightPreTag,n=e.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var o=s.split(t);a.push({value:o[0],isHighlighted:!0}),o[1]!==""&&a.push({value:o[1],isHighlighted:!1})}),a}var Do=new RegExp(/\w/i);function Lo(e,t){var r,n,i=e[t],a=((r=e[t+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=e[t-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Do.test(wo(i.value))&&s===a?s:i.isHighlighted}function mt(e,t){var r=Array.isArray(t)?t:t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}function Br(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a={type:t,attribute:r,name:n,escapedValue:bt(n)},s=tt(i,function(m){return m.name===r}),o;if(t==="hierarchical"){for(var c=e.getHierarchicalFacetByName(r),u=n.split(c.separator),f=function(h){return function(l){return h[l]}},p=function(h){s=s&&s.data&&tt(Object.keys(s.data).map(f(s.data)),function(l){return l.name===u[h]})},d=0;s!==void 0&&d<u.length;++d)p(d);o=s&&s.count}else o=s&&s.data&&s.data[a.name];return o!==void 0&&(a.count=o),s&&s.exhaustive!==void 0&&(a.exhaustive=s.exhaustive),a}function Cn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=[],i=t.facetsRefinements,a=i===void 0?{}:i,s=t.facetsExcludes,o=s===void 0?{}:s,c=t.disjunctiveFacetsRefinements,u=c===void 0?{}:c,f=t.hierarchicalFacetsRefinements,p=f===void 0?{}:f,d=t.numericRefinements,m=d===void 0?{}:d,h=t.tagRefinements,l=h===void 0?[]:h;return Object.keys(a).forEach(function(g){var v=a[g];v.forEach(function(b){n.push(Br(t,"facet",g,b,e.facets))})}),Object.keys(o).forEach(function(g){var v=o[g];v.forEach(function(b){n.push({type:"exclude",attribute:g,name:b,exclude:!0})})}),Object.keys(u).forEach(function(g){var v=u[g];v.forEach(function(b){n.push(Br(t,"disjunctive",g,Ao(b),e.disjunctiveFacets))})}),Object.keys(p).forEach(function(g){var v=p[g];v.forEach(function(b){n.push(Br(t,"hierarchical",g,b,e.hierarchicalFacets))})}),Object.keys(m).forEach(function(g){var v=m[g];Object.keys(v).forEach(function(b){var y=b,S=v[y],P=Array.isArray(S)?S:[S];P.forEach(function(w){n.push({type:"numeric",attribute:g,name:"".concat(w),numericValue:w,operator:y})})})}),l.forEach(function(g){n.push({type:"tag",attribute:"_tags",name:g})}),r&&t.query&&t.query.trim()&&n.push({attribute:"query",type:"query",name:t.query,query:t.query}),n}function No(e,t){var r,n=(r=e.getWidgetRenderState)===null||r===void 0?void 0:r.call(e,t),i=null;if(n&&n.widgetParams){var a=n.widgetParams;a.attribute?i=a.attribute:Array.isArray(a.attributes)&&(i=a.attributes[0])}if(typeof i!="string")throw new Error(`Could not find the attribute of the widget:

`.concat(JSON.stringify(e),`

Please check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly.`));return i}function xt(e){return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(e)}function ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ri(Object(r),!0).forEach(function(n){Wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ri(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wo(e,t,r){return t=Co(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Co(e){var t=Mo(e,"string");return xt(t)==="symbol"?t:String(t)}function Mo(e,t){if(xt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(e,t,r){return e.map(function(n,i){return ni(ni({},n),{},{__position:r*t+i+1})})}function _t(e){return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(e)}function ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ii(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ii(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uo(e,t,r){return t=Qo(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qo(e){var t=qo(e,"string");return _t(t)==="symbol"?t:String(t)}function qo(e,t){if(_t(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_t(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Va(e,t){return t?e.map(function(r){return ai(ai({},r),{},{__queryID:t})}):e}function si(e){return e!==Object(e)}function hr(e,t){if(e===t)return!0;if(si(e)||si(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t)||!hr(e[i],t[i]))return!1}return!0}function q(e){return typeof e=="number"&&isFinite(e)}function Mn(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function It(e){return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}var Bo=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oi(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vo(e,t,r){return t=ko(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ko(e){var t=Ko(e,"string");return It(t)==="symbol"?t:String(t)}function Ko(e,t){if(It(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(It(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(e,t){if(e==null)return{};var r=Jo(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jo(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Yo=function(t,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=zo(r,Bo);return t.setQueryParameters(n)},Go=function(t,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},t)},Zo=function(t,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},t)},Xo=function(t,r){return t.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=Ho(n,function(o){return o.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},t.hierarchicalFacets)})},eu=function(t,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},t)},tu=function(t,r){return t.setQueryParameters({facetsRefinements:De(De({},t.facetsRefinements),r.facetsRefinements)})},ru=function(t,r){return t.setQueryParameters({facetsExcludes:De(De({},t.facetsExcludes),r.facetsExcludes)})},nu=function(t,r){return t.setQueryParameters({disjunctiveFacetsRefinements:De(De({},t.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},iu=function(t,r){return t.setQueryParameters({numericRefinements:De(De({},t.numericRefinements),r.numericRefinements)})},au=function(t,r){return t.setQueryParameters({hierarchicalFacetsRefinements:De(De({},t.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},su=function(t,r){var n=Mn([].concat(t.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},Ot=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=au(i,a),o=Xo(s,a),c=eu(o,a),u=iu(c,a),f=nu(u,a),p=ru(f,a),d=tu(p,a),m=Zo(d,a),h=su(m,a),l=Go(h,a);return Yo(l,a)})};function ou(e){return lu(e)||fu(e)||cu(e)||uu()}function uu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cu(e,t){if(e){if(typeof e=="string")return pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pn(e,t)}}function fu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lu(e){if(Array.isArray(e))return pn(e)}function pn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ui(e){var t=e.start,r=t===void 0?0:t,n=e.end,i=e.step,a=i===void 0?1:i,s=a===0?1:a,o=Math.round((n-r)/s);return ou(Array(o)).map(function(c,u){return r+u*s})}function St(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function ci(e,t){var r=t.getResults();return{helper:t.getHelper(),parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r._state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function hu(e){for(var t=e.getParent(),r=[e.getHelper().state];t!==null;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}function Et(e){return Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(e)}function fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fi(Object(r),!0).forEach(function(n){du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function du(e,t,r){return t=mu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mu(e){var t=gu(e,"string");return Et(t)==="symbol"?t:String(t)}function gu(e,t){if(Et(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Et(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,r){return gr(gr({},t),{},{isHighlighted:!Lo(e,r)})}):e.map(function(t){return gr(gr({},t),{},{isHighlighted:!1})})}function Ne(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=t.fallback;return typeof window>"u"?r():e({window})}function Vr(e){return Array.isArray(e)?e:[e]}function Tt(e){return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}function pu(e){return Su(e)||bu(e)||yu(e)||vu()}function vu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yu(e,t){if(e){if(typeof e=="string")return vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vn(e,t)}}function bu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Su(e){if(Array.isArray(e))return vn(e)}function vn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?li(Object(r),!0).forEach(function(n){wu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wu(e,t,r){return t=Pu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pu(e){var t=Ru(e,"string");return Tt(t)==="symbol"?t:String(t)}function Ru(e,t){if(Tt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hi=K({name:"clear-refinements",connector:!0}),Ou=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,hi()),function(n){var i=n||{},a=i.includedAttributes,s=a===void 0?[]:a,o=i.excludedAttributes,c=o===void 0?["query"]:o,u=i.transformItems,f=u===void 0?function(h){return h}:u;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(hi("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var p={refine:C,createURL:function(){return""},attributesToClear:[]},d=function(){return p.refine()},m=function(){return p.createURL()};return{$$type:"ais.clearRefinements",init:function(l){var g=l.instantSearchInstance;t(nt(nt({},this.getWidgetRenderState(l)),{},{instantSearchInstance:g}),!0)},render:function(l){var g=l.instantSearchInstance;t(nt(nt({},this.getWidgetRenderState(l)),{},{instantSearchInstance:g}),!1)},dispose:function(){r()},getRenderState:function(l,g){return nt(nt({},l),{},{clearRefinements:this.getWidgetRenderState(g)})},getWidgetRenderState:function(l){var g=l.createURL,v=l.scopedResults,b=l.results;p.attributesToClear=v.reduce(function(S,P){return S.concat($u({scopedResult:P,includedAttributes:s,excludedAttributes:c,transformItems:f,results:b}))},[]),p.refine=function(){p.attributesToClear.forEach(function(S){var P=S.helper,w=S.items;P.setState(ei({helper:P,attributesToClear:w})).search()})},p.createURL=function(){return g(Ot.apply(void 0,pu(p.attributesToClear.map(function(S){var P=S.helper,w=S.items;return ei({helper:P,attributesToClear:w})}))))};var y=p.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:y,hasRefinements:y,refine:d,createURL:m,widgetParams:n}}}}};function $u(e){var t=e.scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,a=e.results,s=r.indexOf("query")!==-1||n.indexOf("query")===-1;return{helper:t.helper,items:i(Mn(Cn(t.results,t.helper.state,s).map(function(o){return o.attribute}).filter(function(o){return r.length===0||r.indexOf(o)!==-1}).filter(function(o){return o==="query"&&s||n.indexOf(o)===-1})),{results:a})}}const ju=Ou;function At(e){return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(e)}function Fu(e){return Eu(e)||Iu(e)||_u(e)||xu()}function xu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _u(e,t){if(e){if(typeof e=="string")return yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yn(e,t)}}function Iu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eu(e){if(Array.isArray(e))return yn(e)}function yn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?di(Object(r),!0).forEach(function(n){Tu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tu(e,t,r){return t=Au(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Au(e){var t=Hu(e,"string");return At(t)==="symbol"?t:String(t)}function Hu(e,t){if(At(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(At(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mi=K({name:"current-refinements",connector:!0}),Du=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,mi()),function(n){if((n||{}).includedAttributes&&(n||{}).excludedAttributes)throw new Error(mi("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var i=n||{},a=i.includedAttributes,s=i.excludedAttributes,o=s===void 0?["query"]:s,c=i.transformItems,u=c===void 0?function(f){return f}:c;return{$$type:"ais.currentRefinements",init:function(p){var d=p.instantSearchInstance;t(it(it({},this.getWidgetRenderState(p)),{},{instantSearchInstance:d}),!0)},render:function(p){var d=p.instantSearchInstance;t(it(it({},this.getWidgetRenderState(p)),{},{instantSearchInstance:d}),!1)},dispose:function(){r()},getRenderState:function(p,d){return it(it({},p),{},{currentRefinements:this.getWidgetRenderState(d)})},getWidgetRenderState:function(p){var d=p.results,m=p.scopedResults,h=p.createURL,l=p.helper;function g(){return d?m.reduce(function(b,y){return b.concat(u(gi({results:y.results,helper:y.helper,includedAttributes:a,excludedAttributes:o}),{results:d}))},[]):u(gi({results:{},helper:l,includedAttributes:a,excludedAttributes:o}),{results:d})}var v=g();return{items:v,canRefine:v.length>0,refine:function(y){return za(l,y)},createURL:function(y){return h(Ka(l.state,y))},widgetParams:n}}}}};function gi(e){var t=e.results,r=e.helper,n=e.includedAttributes,i=e.excludedAttributes,a=(n||[]).indexOf("query")!==-1||(i||[]).indexOf("query")===-1,s=n?function(c){return n.indexOf(c.attribute)!==-1}:function(c){return i.indexOf(c.attribute)===-1},o=Cn(t,r.state,a).map(Nu).filter(s);return o.reduce(function(c,u){return[].concat(Fu(c.filter(function(f){return f.attribute!==u.attribute})),[{indexName:r.state.index,attribute:u.attribute,label:u.attribute,refinements:o.filter(function(f){return f.attribute===u.attribute}).sort(function(f,p){return f.type==="numeric"?f.value-p.value:0}),refine:function(p){return za(r,p)}}])},[])}function Ka(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function za(e,t){e.setState(Ka(e.state,t)).search()}function Lu(e){switch(e){case">=":return"≥";case"<=":return"≤";default:return e}}function Nu(e){var t=Wu(e),r=e.operator?"".concat(Lu(e.operator)," ").concat(e.name):e.name,n={attribute:e.attribute,type:e.type,value:t,label:r};return e.operator!==void 0&&(n.operator=e.operator),e.count!==void 0&&(n.count=e.count),e.exhaustive!==void 0&&(n.exhaustive=e.exhaustive),n}function Wu(e){return e.type==="numeric"?Number(e.name):"escapedValue"in e?e.escapedValue:e.name}const Cu=Du;function Ht(e){return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(e)}var Mu=["name","escapedValue","data","path"];function pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pi(Object(r),!0).forEach(function(n){$r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $r(e,t,r){return t=Uu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uu(e){var t=Qu(e,"string");return Ht(t)==="symbol"?t:String(t)}function Qu(e,t){if(Ht(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ht(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qu(e,t){if(e==null)return{};var r=Bu(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bu(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Vu(e,t){return Ju(e)||zu(e,t)||Ku(e,t)||ku()}function ku(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ku(e,t){if(e){if(typeof e=="string")return vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vi(e,t)}}function vi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zu(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ju(e){if(Array.isArray(e))return e}var kr=K({name:"hierarchical-menu",connector:!0}),yi=["name:asc"],Yu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,kr()),function(n){var i=n||{},a=i.attributes,s=i.separator,o=s===void 0?" > ":s,c=i.rootPath,u=c===void 0?null:c,f=i.showParentLevel,p=f===void 0?!0:f,d=i.limit,m=d===void 0?10:d,h=i.showMore,l=h===void 0?!1:h,g=i.showMoreLimit,v=g===void 0?20:g,b=i.sortBy,y=b===void 0?yi:b,S=i.transformItems,P=S===void 0?function(D){return D}:S;if(!a||!Array.isArray(a)||a.length===0)throw new Error(kr("The `attributes` option expects an array of strings."));if(l===!0&&v<=m)throw new Error(kr("The `showMoreLimit` option must be greater than `limit`."));var w=Vu(a,1),R=w[0],O,$=function(){};function x(){$()}var A,L=!1;function U(D,_){return function(){L=!L,_.render(D)}}function T(){return L?v:m}function N(D){return D.slice(0,T()).map(function(_){var F=_.name,I=_.escapedValue,H=_.data;_.path;var W=qu(_,Mu),Q=ae(ae({},W),{},{value:I,label:F,data:null});return Array.isArray(H)&&(Q.data=N(H)),Q})}return{$$type:"ais.hierarchicalMenu",init:function(_){var F=_.instantSearchInstance;t(ae(ae({},this.getWidgetRenderState(_)),{},{instantSearchInstance:F}),!0)},render:function(_){var F=_.instantSearchInstance;$=U(_,this),t(ae(ae({},this.getWidgetRenderState(_)),{},{instantSearchInstance:F}),!1)},dispose:function(_){var F=_.state;return r(),F.removeHierarchicalFacet(R).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(_,F){return ae(ae({},_),{},{hierarchicalMenu:ae(ae({},_.hierarchicalMenu),{},$r({},R,this.getWidgetRenderState(F)))})},getWidgetRenderState:function(_){var F=_.results,I=_.state,H=_.createURL,W=_.instantSearchInstance,Q=_.helper,ie=[],Z=!1;function pe(we){return H(I.resetPage().toggleFacetRefinement(R,we))}if(O||(O=Nn({instantSearchInstance:W,helper:Q,attribute:function(ye){var gt=ye.split(o).length-1;return a[gt]},widgetType:this.$$type})),A||(A=function(ye){O("click",ye),Q.toggleFacetRefinement(R,ye).search()}),F){var fe=F.getFacetValues(R,{sortBy:y,facetOrdering:y===yi}),ve=fe&&!Array.isArray(fe)&&fe.data?fe.data:[],le=(I.maxValuesPerFacet||0)>T()?ve.length<=T():ve.length<T();Z=l&&(L||!le),ie=P(N(ve),{results:F})}return{items:ie,refine:A,canRefine:ie.length>0,createURL:pe,sendEvent:O,widgetParams:n,isShowingMore:L,toggleShowMore:x,canToggleShowMore:Z}},getWidgetUiState:function(_,F){var I=F.searchParameters,H=I.getHierarchicalFacetBreadcrumb(R);return H.length?ae(ae({},_),{},{hierarchicalMenu:ae(ae({},_.hierarchicalMenu),{},$r({},R,H))}):_},getWidgetSearchParameters:function(_,F){var I=F.uiState,H=I.hierarchicalMenu&&I.hierarchicalMenu[R];_.isHierarchicalFacet(R)&&_.getHierarchicalFacetByName(R);var W=_.removeHierarchicalFacet(R).addHierarchicalFacet({name:R,attributes:a,separator:o,rootPath:u,showParentLevel:p}),Q=W.maxValuesPerFacet||0,ie=Math.max(Q,l?v:m),Z=W.setQueryParameter("maxValuesPerFacet",ie);return H?Z.addHierarchicalFacetRefinement(R,H.join(o)):Z.setQueryParameters({hierarchicalFacetsRefinements:ae(ae({},Z.hierarchicalFacetsRefinements),{},$r({},R,[]))})}}}};const Gu=Yu;function Dt(e){return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(e)}function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bi(Object(r),!0).forEach(function(n){Ja(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ja(e,t,r){return t=Zu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zu(e){var t=Xu(e,"string");return Dt(t)==="symbol"?t:String(t)}function Xu(e,t){if(Dt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ec=K({name:"hits",connector:!0}),tc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,ec()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,o=i.transformItems,c=o===void 0?function(p){return p}:o,u,f;return{$$type:"ais.hits",init:function(d){t(Ue(Ue({},this.getWidgetRenderState(d)),{},{instantSearchInstance:d.instantSearchInstance}),!0)},render:function(d){var m=this.getWidgetRenderState(d);t(Ue(Ue({},m),{},{instantSearchInstance:d.instantSearchInstance}),!1),m.sendEvent("view",m.hits)},getRenderState:function(d,m){return Ue(Ue({},d),{},{hits:this.getWidgetRenderState(m)})},getWidgetRenderState:function(d){var m=d.results,h=d.helper,l=d.instantSearchInstance;if(u||(u=Wn({instantSearchInstance:l,index:h.getIndex(),widgetType:this.$$type})),f||(f=Qa({index:h.getIndex(),widgetType:this.$$type,instantSearchInstance:l})),!m)return{hits:[],results:void 0,sendEvent:u,bindEvent:f,widgetParams:n};s&&m.hits.length>0&&(m.hits=Ln(m.hits));var g=Ba(m.hits,m.page,m.hitsPerPage),v=Va(g,m.queryID),b=c(v,{results:m});return{hits:b,results:m,sendEvent:u,bindEvent:f,widgetParams:n}},dispose:function(d){var m=d.state;return r(),s?m.setQueryParameters(Object.keys(He).reduce(function(h,l){return Ue(Ue({},h),{},Ja({},l,void 0))},{})):m},getWidgetSearchParameters:function(d){return s?d.setQueryParameters(He):d}}}};const rc=tc;function Lt(e){return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(e)}function Si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Si(Object(r),!0).forEach(function(n){nc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nc(e,t,r){return t=ic(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ic(e){var t=ac(e,"string");return Lt(t)==="symbol"?t:String(t)}function ac(e,t){if(Lt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sc=function(t,r){return r.map(function(n){var i=tt(t,function(a){return a.objectID===n});if(typeof i>"u")throw new Error('Could not find objectID "'.concat(n,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return i})},oc=function(t){var r=Mn(t.map(function(i){return i.__queryID}));if(r.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=r[0];if(typeof n!="string")throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n},uc=function(t){return t.map(function(r){return r.__position})},cc=function(t){var r=t.method,n=t.results,i=t.hits,a=t.objectIDs,s=n.index,o=sc(i,a),c=oc(o);switch(r){case"clickedObjectIDsAfterSearch":{var u=uc(o);return{index:s,queryID:c,objectIDs:a,positions:u}}case"convertedObjectIDsAfterSearch":return{index:s,queryID:c,objectIDs:a};default:throw new Error('Unsupported method passed to insights: "'.concat(r,'".'))}},fc=function(t,r,n){return function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];var c=s[0];if(!t){var u=K({name:"instantsearch"});throw new Error(u("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(c.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var f=cc({method:i,results:r,hits:n,objectIDs:c.objectIDs});t(i,Er(Er({},f),c))}};function Ya(e){return function(t,r){return e(function(n,i){var a=n.results,s=n.hits,o=n.instantSearchInstance;if(a&&s&&o){var c=fc(o.insightsClient,a,s);return t(Er(Er({},n),{},{insights:c}),i)}return t(n,i)},r)}}function bn(e){return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bn(e)}function lc(e){var t=e.method,r=e.payload;if(bn(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=Ma(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(n,'"')}function Ga(e,t){return lc({method:e,payload:t})}var hc=Ya(rc);const dc=hc;function Nt(e){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(e)}function mc(e){return yc(e)||vc(e)||pc(e)||gc()}function gc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pc(e,t){if(e){if(typeof e=="string")return Sn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sn(e,t)}}function vc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yc(e){if(Array.isArray(e))return Sn(e)}function Sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wi(Object(r),!0).forEach(function(n){bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bc(e,t,r){return t=Sc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sc(e){var t=wc(e,"string");return Nt(t)==="symbol"?t:String(t)}function wc(e,t){if(Nt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pr=K({name:"hits-per-page",connector:!0}),Pc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,pr()),function(n){var i=n||{},a=i.items,s=i.transformItems,o=s===void 0?function(m){return m}:s;if(!Array.isArray(a))throw new Error(pr("The `items` option expects an array of objects."));var c=a,u=c.filter(function(m){return m.default===!0});if(u.length===0)throw new Error(pr("A default value must be specified in `items`."));if(u.length>1)throw new Error(pr("More than one default value is specified in `items`."));var f=u[0],p=function(h){var l=h.hitsPerPage;return c.map(function(g){return Te(Te({},g),{},{isRefined:Number(g.value)===Number(l)})})},d={getRefine:function(h){return function(l){return!l&&l!==0?h.setQueryParameter("hitsPerPage",void 0).search():h.setQueryParameter("hitsPerPage",l).search()}},createURLFactory:function(h){var l=h.state,g=h.createURL;return function(v){return g(l.resetPage().setQueryParameter("hitsPerPage",!v&&v!==0?void 0:v))}}};return{$$type:"ais.hitsPerPage",init:function(h){var l=h.state,g=h.instantSearchInstance,v=c.some(function(b){return Number(l.hitsPerPage)===Number(b.value)});v||(c=[{value:"",label:""}].concat(mc(c))),t(Te(Te({},this.getWidgetRenderState(h)),{},{instantSearchInstance:g}),!0)},render:function(h){var l=h.instantSearchInstance;t(Te(Te({},this.getWidgetRenderState(h)),{},{instantSearchInstance:l}),!1)},dispose:function(h){var l=h.state;return r(),l.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(h,l){return Te(Te({},h),{},{hitsPerPage:this.getWidgetRenderState(l)})},getWidgetRenderState:function(h){var l=h.state,g=h.results,v=h.createURL,b=h.helper,y=g?g.nbHits>0:!1;return{items:o(p(l),{results:g}),refine:d.getRefine(b),createURL:d.createURLFactory({state:l,createURL:v}),hasNoResults:!y,canRefine:y,widgetParams:n}},getWidgetUiState:function(h,l){var g=l.searchParameters,v=g.hitsPerPage;return v===void 0||v===f.value?h:Te(Te({},h),{},{hitsPerPage:v})},getWidgetSearchParameters:function(h,l){var g=l.uiState;return h.setQueryParameters({hitsPerPage:g.hitsPerPage||f.value})}}}};const Rc=Pc;function Wt(e){return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(e)}var Oc=["page"];function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pi(Object(r),!0).forEach(function(n){Za(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Za(e,t,r){return t=$c(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $c(e){var t=jc(e,"string");return Wt(t)==="symbol"?t:String(t)}function jc(e,t){if(Wt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(e){return Ic(e)||_c(e)||xc(e)||Fc()}function Fc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xc(e,t){if(e){if(typeof e=="string")return wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wn(e,t)}}function _c(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ic(e){if(Array.isArray(e))return wn(e)}function wn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ec(e,t){if(e==null)return{};var r=Tc(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tc(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ac=K({name:"infinite-hits",connector:!0});function Oi(e){var t=e||{};t.page;var r=Ec(t,Oc);return r}function Hc(){var e=null,t=null;return{read:function(n){var i=n.state;return hr(t,Oi(i))?e:null},write:function(n){var i=n.state,a=n.hits;t=Oi(i),e=a}}}function Dc(e){return Object.keys(e).map(Number).sort(function(t,r){return t-r}).reduce(function(t,r){return t.concat(e[r])},[])}var Lc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,Ac()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,o=i.transformItems,c=o===void 0?function(y){return y}:o,u=i.cache,f=u===void 0?Hc():u,p,d,m,h,l=function(S,P){var w=S.page,R=w===void 0?0:w,O=Object.keys(P).map(Number);return O.length===0?R:Math.min.apply(Math,[R].concat(Ri(O)))},g=function(S,P){var w=S.page,R=w===void 0?0:w,O=Object.keys(P).map(Number);return O.length===0?R:Math.max.apply(Math,[R].concat(Ri(O)))},v=function(S){return function(){S.overrideStateWithoutTriggeringChangeEvent(Pe(Pe({},S.state),{},{page:l(S.state,f.read({state:S.state})||{})-1})).searchWithoutTriggeringOnStateChange()}},b=function(S){return function(){S.setPage(g(S.state,f.read({state:S.state})||{})+1).search()}};return{$$type:"ais.infiniteHits",init:function(S){t(Pe(Pe({},this.getWidgetRenderState(S)),{},{instantSearchInstance:S.instantSearchInstance}),!0)},render:function(S){var P=S.instantSearchInstance,w=this.getWidgetRenderState(S);t(Pe(Pe({},w),{},{instantSearchInstance:P}),!1),m("view",w.currentPageHits)},getRenderState:function(S,P){return Pe(Pe({},S),{},{infiniteHits:this.getWidgetRenderState(P)})},getWidgetRenderState:function(S){var P=S.results,w=S.helper,R=S.parent,O=S.state,$=S.instantSearchInstance,x,A=[],L=R.getPreviousState()||O,U=f.read({state:L})||{};if(!P)p=v(w),d=b(w),m=Wn({instantSearchInstance:$,index:w.getIndex(),widgetType:this.$$type}),h=Qa({index:w.getIndex(),widgetType:this.$$type,instantSearchInstance:$}),x=L.page===void 0||l(L,U)===0;else{var T=L.page,N=T===void 0?0:T;s&&P.hits.length>0&&(P.hits=Ln(P.hits));var D=Ba(P.hits,P.page,P.hitsPerPage),_=Va(D,P.queryID),F=c(_,{results:P});U[N]===void 0&&!P.__isArtificial&&$.status==="idle"&&(U[N]=F,f.write({state:L,hits:U})),A=F,x=l(L,U)===0}var I=Dc(U),H=P?P.nbPages<=g(L,U)+1:!0;return{hits:I,currentPageHits:A,sendEvent:m,bindEvent:h,results:P,showPrevious:p,showMore:d,isFirstPage:x,isLastPage:H,widgetParams:n}},dispose:function(S){var P=S.state;r();var w=P.setQueryParameter("page",void 0);return s?w.setQueryParameters(Object.keys(He).reduce(function(R,O){return Pe(Pe({},R),{},Za({},O,void 0))},{})):w},getWidgetUiState:function(S,P){var w=P.searchParameters,R=w.page||0;return R?Pe(Pe({},S),{},{page:R+1}):S},getWidgetSearchParameters:function(S,P){var w=P.uiState,R=S;s&&(R=S.setQueryParameters(He));var O=w.page?w.page-1:0;return R.setQueryParameter("page",O)}}}};const Nc=Lc;var Wc=Ya(Nc);const Cc=Wc;var Mc=["name","escapedValue","path"];function Ct(e){return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(e)}function Uc(e,t){if(e==null)return{};var r=Qc(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qc(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function $i(e,t){return kc(e)||Vc(e,t)||Bc(e,t)||qc()}function qc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bc(e,t){if(e){if(typeof e=="string")return ji(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ji(e,t)}}function ji(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vc(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function kc(e){if(Array.isArray(e))return e}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fi(Object(r),!0).forEach(function(n){jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jr(e,t,r){return t=Kc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kc(e){var t=zc(e,"string");return Ct(t)==="symbol"?t:String(t)}function zc(e,t){if(Ct(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ct(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kr=K({name:"menu",connector:!0}),xi=["isRefined","name:asc"],Jc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,Kr()),function(n){var i=n||{},a=i.attribute,s=i.limit,o=s===void 0?10:s,c=i.showMore,u=c===void 0?!1:c,f=i.showMoreLimit,p=f===void 0?20:f,d=i.sortBy,m=d===void 0?xi:d,h=i.transformItems,l=h===void 0?function(O){return O}:h;if(!a)throw new Error(Kr("The `attribute` option is required."));if(u===!0&&p<=o)throw new Error(Kr("The `showMoreLimit` option must be greater than `limit`."));var g,v,b,y=!1,S=function(){};function P(O,$){return function(){y=!y,$.render(O)}}function w(){S()}function R(){return y?p:o}return{$$type:"ais.menu",init:function($){var x=$.instantSearchInstance;t(se(se({},this.getWidgetRenderState($)),{},{instantSearchInstance:x}),!0)},render:function($){var x=$.instantSearchInstance;t(se(se({},this.getWidgetRenderState($)),{},{instantSearchInstance:x}),!1)},dispose:function($){var x=$.state;return r(),x.removeHierarchicalFacet(a).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function($,x){return se(se({},$),{},{menu:se(se({},$.menu),{},jr({},a,this.getWidgetRenderState(x)))})},getWidgetRenderState:function($){var x=$.results,A=$.createURL,L=$.instantSearchInstance,U=$.helper,T=[],N=!1;if(g||(g=Nn({instantSearchInstance:L,helper:U,attribute:a,widgetType:this.$$type})),v||(v=function(I){return A(U.state.resetPage().toggleFacetRefinement(a,I))}),b||(b=function(I){var H=U.getHierarchicalFacetBreadcrumb(a),W=$i(H,1),Q=W[0];g("click",I||Q),U.toggleFacetRefinement(a,I||Q).search()}),$.results&&(S=P($,this)),x){var D=x.getFacetValues(a,{sortBy:m,facetOrdering:m===xi}),_=D&&!Array.isArray(D)&&D.data?D.data:[];N=u&&(y||_.length>R()),T=l(_.slice(0,R()).map(function(F){var I=F.name,H=F.escapedValue;F.path;var W=Uc(F,Mc);return se(se({},W),{},{label:I,value:H})}),{results:x})}return{items:T,createURL:v,refine:b,sendEvent:g,canRefine:T.length>0,widgetParams:n,isShowingMore:y,toggleShowMore:w,canToggleShowMore:N}},getWidgetUiState:function($,x){var A=x.searchParameters,L=A.getHierarchicalFacetBreadcrumb(a),U=$i(L,1),T=U[0];return T?se(se({},$),{},{menu:se(se({},$.menu),{},jr({},a,T))}):$},getWidgetSearchParameters:function($,x){var A=x.uiState,L=A.menu&&A.menu[a],U=$.removeHierarchicalFacet(a).addHierarchicalFacet({name:a,attributes:[a]}),T=U.maxValuesPerFacet||0,N=Math.max(T,u?p:o),D=U.setQueryParameter("maxValuesPerFacet",N);return L?D.addHierarchicalFacetRefinement(a,L):D.setQueryParameters({hierarchicalFacetsRefinements:se(se({},D.hierarchicalFacetsRefinements),{},jr({},a,[]))})}}}};const Xa=Jc;function Mt(e){return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(e)}function Yc(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=es(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw o}}}}function Gc(e,t){return ef(e)||Xc(e,t)||es(e,t)||Zc()}function Zc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function es(e,t){if(e){if(typeof e=="string")return _i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _i(e,t)}}function _i(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xc(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ef(e){if(Array.isArray(e))return e}function Ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ii(Object(r),!0).forEach(function(n){wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ii(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e,t,r){return t=tf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tf(e){var t=rf(e,"string");return Mt(t)==="symbol"?t:String(t)}function rf(e,t){if(Mt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zr=K({name:"numeric-menu",connector:!0}),nf="ais.numericMenu",af=function(t){var r=t.instantSearchInstance;return function(){if(arguments.length===1){r.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}},sf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,zr()),function(n){var i=n||{},a=i.attribute,s=a===void 0?"":a,o=i.items,c=o===void 0?[]:o,u=i.transformItems,f=u===void 0?function(m){return m}:u;if(s==="")throw new Error(zr("The `attribute` option is required."));if(!c||c.length===0)throw new Error(zr("The `items` option expects an array of objects."));var p=function(h){return c.map(function(l){var g=l.start,v=l.end,b=l.label;return{label:b,value:encodeURI(JSON.stringify({start:g,end:v})),isRefined:ts(h,s,{start:g,end:v,label:b})}})},d={};return{$$type:nf,init:function(h){var l=h.instantSearchInstance;t(X(X({},this.getWidgetRenderState(h)),{},{instantSearchInstance:l}),!0)},render:function(h){var l=h.instantSearchInstance;t(X(X({},this.getWidgetRenderState(h)),{},{instantSearchInstance:l}),!1)},dispose:function(h){var l=h.state;return r(),l.clearRefinements(s)},getWidgetUiState:function(h,l){var g=l.searchParameters,v=g.getNumericRefinements(s),b=v["="]&&v["="][0];if(b||b===0)return X(X({},h),{},{numericMenu:X(X({},h.numericMenu),{},wt({},s,"".concat(v["="])))});var y=v[">="]&&v[">="][0]||"",S=v["<="]&&v["<="][0]||"";return y===""&&S===""?h:X(X({},h),{},{numericMenu:X(X({},h.numericMenu),{},wt({},s,"".concat(y,":").concat(S)))})},getWidgetSearchParameters:function(h,l){var g=l.uiState,v=g.numericMenu&&g.numericMenu[s],b=h.clearRefinements(s);if(!v)return b.setQueryParameters({numericRefinements:X(X({},b.numericRefinements),{},wt({},s,{}))});var y=v.indexOf(":")===-1;if(y)return b.addNumericRefinement(s,"=",Number(v));var S=v.split(":").map(parseFloat),P=Gc(S,2),w=P[0],R=P[1],O=q(w)?b.addNumericRefinement(s,">=",w):b,$=q(R)?O.addNumericRefinement(s,"<=",R):O;return $},getRenderState:function(h,l){return X(X({},h),{},{numericMenu:X(X({},h.numericMenu),{},wt({},s,this.getWidgetRenderState(l)))})},getWidgetRenderState:function(h){var l=h.results,g=h.state,v=h.instantSearchInstance,b=h.helper,y=h.createURL;d.refine||(d.refine=function(x){var A=Ei(b.state,s,x);d.sendEvent("click",x),b.setState(A).search()}),d.createURL||(d.createURL=function(x){return function(A){return y(Ei(x,s,A))}}),d.sendEvent||(d.sendEvent=af({instantSearchInstance:v}));var S=l?l.nbHits===0:!0,P=p(g),w=!0,R=Yc(P),O;try{for(R.s();!(O=R.n()).done;){var $=O.value;if($.isRefined&&decodeURI($.value)!=="{}"){w=!1;break}}}catch(x){R.e(x)}finally{R.f()}return{createURL:d.createURL(g),items:f(P,{results:l}),hasNoResults:S,canRefine:!(S&&w),refine:d.refine,sendEvent:d.sendEvent,widgetParams:n}}}}};function ts(e,t,r){var n=e.getNumericRefinements(t);return r.start!==void 0&&r.end!==void 0?r.start===r.end?ze(n,"=",r.start):ze(n,">=",r.start)&&ze(n,"<=",r.end):r.start!==void 0?ze(n,">=",r.start):r.end!==void 0?ze(n,"<=",r.end):r.start===void 0&&r.end===void 0?Object.keys(n).every(function(i){return(n[i]||[]).length===0}):!1}function Ei(e,t,r){var n=e,i=JSON.parse(decodeURI(r)),a=n.getNumericRefinements(t);if(i.start===void 0&&i.end===void 0)return n.removeNumericRefinement(t);if(ts(n,t,i)||(n=n.removeNumericRefinement(t)),i.start!==void 0&&i.end!==void 0){if(i.start>i.end)throw new Error("option.start should be > to option.end");if(i.start===i.end)return ze(a,"=",i.start)?n=n.removeNumericRefinement(t,"=",i.start):n=n.addNumericRefinement(t,"=",i.start),n}return i.start!==void 0&&(ze(a,">=",i.start)&&(n=n.removeNumericRefinement(t,">=",i.start)),n=n.addNumericRefinement(t,">=",i.start)),i.end!==void 0&&(ze(a,"<=",i.end)&&(n=n.removeNumericRefinement(t,"<=",i.end)),n=n.addNumericRefinement(t,"<=",i.end)),typeof n.page=="number"&&(n.page=0),n}function ze(e,t,r){return e[t]!==void 0&&e[t].includes(r)}const of=sf;function Ut(e){return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(e)}function uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ti(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rs(n.key),n)}}function cf(e,t,r){return t&&Ti(e.prototype,t),r&&Ti(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jr(e,t,r){return t=rs(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rs(e){var t=ff(e,"string");return Ut(t)==="symbol"?t:String(t)}function ff(e,t){if(Ut(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ut(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lf=function(){function e(t){uf(this,e),Jr(this,"currentPage",void 0),Jr(this,"total",void 0),Jr(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return cf(e,[{key:"pages",value:function(){var r=this.total,n=this.currentPage,i=this.padding;if(r===0)return[0];var a=this.nbPagesDisplayed(i,r);if(a===r)return ui({end:r});var s=this.calculatePaddingLeft(n,i,r,a),o=a-s,c=n-s,u=n+o;return ui({start:c,end:u})}},{key:"nbPagesDisplayed",value:function(r,n){return Math.min(2*r+1,n)}},{key:"calculatePaddingLeft",value:function(r,n,i,a){return r<=n?r:r>=i-n?a-(i-r):n}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||this.total===0}},{key:"isFirstPage",value:function(){return this.currentPage===0}}]),e}();const hf=lf;function Qt(e){return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}function Ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ai(Object(r),!0).forEach(function(n){df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ai(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function df(e,t,r){return t=mf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mf(e){var t=gf(e,"string");return Qt(t)==="symbol"?t:String(t)}function gf(e,t){if(Qt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pf=K({name:"pagination",connector:!0}),vf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,pf()),function(n){var i=n||{},a=i.totalPages,s=i.padding,o=s===void 0?3:s,c=new hf({currentPage:0,total:0,padding:o}),u={};function f(p){var d=p.nbPages;return a!==void 0?Math.min(a,d):d}return{$$type:"ais.pagination",init:function(d){var m=d.instantSearchInstance;t(Qe(Qe({},this.getWidgetRenderState(d)),{},{instantSearchInstance:m}),!0)},render:function(d){var m=d.instantSearchInstance;t(Qe(Qe({},this.getWidgetRenderState(d)),{},{instantSearchInstance:m}),!1)},dispose:function(d){var m=d.state;return r(),m.setQueryParameter("page",void 0)},getWidgetUiState:function(d,m){var h=m.searchParameters,l=h.page||0;return l?Qe(Qe({},d),{},{page:l+1}):d},getWidgetSearchParameters:function(d,m){var h=m.uiState,l=h.page?h.page-1:0;return d.setQueryParameter("page",l)},getWidgetRenderState:function(d){var m=d.results,h=d.helper,l=d.state,g=d.createURL;u.refine||(u.refine=function(y){h.setPage(y),h.search()}),u.createURL||(u.createURL=function(y){return function(S){return g(y.setPage(S))}});var v=l.page||0,b=f(m||{nbPages:0});return c.currentPage=v,c.total=b,{createURL:u.createURL(l),refine:u.refine,canRefine:b>1,currentRefinement:v,nbHits:(m==null?void 0:m.nbHits)||0,nbPages:b,pages:m?c.pages():[],isFirstPage:c.isFirstPage(),isLastPage:c.isLastPage(),widgetParams:n}},getRenderState:function(d,m){return Qe(Qe({},d),{},{pagination:this.getWidgetRenderState(m)})}}}};const yf=vf;function qt(e){return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(e)}function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hi(Object(r),!0).forEach(function(n){Fr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fr(e,t,r){return t=bf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bf(e){var t=Sf(e,"string");return qt(t)==="symbol"?t:String(t)}function Sf(e,t){if(qt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function at(e,t){return Of(e)||Rf(e,t)||Pf(e,t)||wf()}function wf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pf(e,t){if(e){if(typeof e=="string")return Di(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Di(e,t)}}function Di(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rf(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Of(e){if(Array.isArray(e))return e}var Yr=K({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),$f="ais.range";function Li(e){var t=e.min,r=e.max,n=e.precision,i=Math.pow(10,n);return{min:t&&Math.floor(t*i)/i,max:r&&Math.ceil(r*i)/i}}var jf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,Yr()),function(n){var i=n||{},a=i.attribute,s=a===void 0?"":a,o=i.min,c=i.max,u=i.precision,f=u===void 0?0:u;if(!s)throw new Error(Yr("The `attribute` option is required."));if(q(o)&&q(c)&&o>c)throw new Error(Yr("The `max` option can't be lower than `min`."));var p=function(y){return Number(Number(y).toFixed(f))},d={from:function(y){return y.toLocaleString()},to:function(y){return p(y).toLocaleString()}},m=function(y,S,P,w){var R=y.state,O=S.min,$=S.max,x=R.getNumericRefinement(s,">=")||[],A=at(x,1),L=A[0],U=R.getNumericRefinement(s,"<=")||[],T=at(U,1),N=T[0],D=P===void 0||P==="",_=w===void 0||w==="",F=Li({min:D?void 0:parseFloat(P),max:_?void 0:parseFloat(w),precision:f}),I=F.min,H=F.max,W;!q(o)&&O===I?W=void 0:q(o)&&D?W=o:W=I;var Q;!q(c)&&$===H?Q=void 0:q(c)&&_?Q=c:Q=H;var ie=W===void 0,Z=q(O)&&O<=W,pe=ie||q(W)&&(!q(O)||Z),fe=Q===void 0,ve=q(Q)&&$>=Q,le=fe||q(Q)&&(!q($)||ve),we=L!==W,ye=N!==Q;return(we||ye)&&pe&&le?(R=R.removeNumericRefinement(s),q(W)&&(R=R.addNumericRefinement(s,">=",W)),q(Q)&&(R=R.addNumericRefinement(s,"<=",Q)),R.resetPage()):null},h=function(y){return function(){if(arguments.length===1){y.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function l(b){var y;q(o)?y=o:q(b.min)?y=b.min:y=0;var S;return q(c)?S=c:q(b.max)?S=b.max:S=0,Li({min:y,max:S,precision:f})}function g(b){var y=b.getNumericRefinement(s,">=")||[],S=at(y,1),P=S[0],w=b.getNumericRefinement(s,"<=")||[],R=at(w,1),O=R[0],$=q(P)?P:-1/0,x=q(O)?O:1/0;return[$,x]}function v(b,y){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],P=at(S,2),w=P[0],R=P[1],O=m(b,y,w,R);O&&b.setState(O).search()}}return{$$type:$f,init:function(y){t(oe(oe({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!0)},render:function(y){t(oe(oe({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!1)},getRenderState:function(y,S){return oe(oe({},y),{},{range:oe(oe({},y.range),{},Fr({},s,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(y){var S=y.results,P=y.helper,w=y.instantSearchInstance,R=S&&S.disjunctiveFacets||[],O=tt(R,function(U){return U.name===s}),$=O&&O.stats||{min:void 0,max:void 0},x=l($),A=g(P),L;return S?L=v(P,x):L=v(P,{min:void 0,max:void 0}),{refine:L,canRefine:x.min!==x.max,format:d,range:x,sendEvent:h(w),widgetParams:oe(oe({},n),{},{precision:f}),start:A}},dispose:function(y){var S=y.state;return r(),S.removeDisjunctiveFacet(s).removeNumericRefinement(s)},getWidgetUiState:function(y,S){var P=S.searchParameters,w=P.getNumericRefinements(s),R=w[">="],O=R===void 0?[]:R,$=w["<="],x=$===void 0?[]:$;return O.length===0&&x.length===0?y:oe(oe({},y),{},{range:oe(oe({},y.range),{},Fr({},s,"".concat(O,":").concat(x)))})},getWidgetSearchParameters:function(y,S){var P=S.uiState,w=y.addDisjunctiveFacet(s).setQueryParameters({numericRefinements:oe(oe({},y.numericRefinements),{},Fr({},s,{}))});q(o)&&(w=w.addNumericRefinement(s,">=",o)),q(c)&&(w=w.addNumericRefinement(s,"<=",c));var R=P.range&&P.range[s];if(!R||R.indexOf(":")===-1)return w;var O=R.split(":").map(parseFloat),$=at(O,2),x=$[0],A=$[1];return q(x)&&(!q(o)||o<x)&&(w=w.removeNumericRefinement(s,">="),w=w.addNumericRefinement(s,">=",x)),q(A)&&(!q(c)||A<c)&&(w=w.removeNumericRefinement(s,"<="),w=w.addNumericRefinement(s,"<=",A)),w}}}};const Ff=jf;function Bt(e){return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(e)}var xf=["name","escapedValue"],_f=["escapedValue","value"];function Ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ni(Object(r),!0).forEach(function(n){Pt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ni(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pt(e,t,r){return t=If(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function If(e){var t=Ef(e,"string");return Bt(t)==="symbol"?t:String(t)}function Ef(e,t){if(Bt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wi(e,t){if(e==null)return{};var r=Tf(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var vr=K({name:"refinement-list",connector:!0}),Ci=["isRefined","count:desc","name:asc"],Af=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,vr()),function(n){var i=n||{},a=i.attribute,s=i.operator,o=s===void 0?"or":s,c=i.limit,u=c===void 0?10:c,f=i.showMore,p=f===void 0?!1:f,d=i.showMoreLimit,m=d===void 0?20:d,h=i.sortBy,l=h===void 0?Ci:h,g=i.escapeFacetValues,v=g===void 0?!0:g,b=i.transformItems,y=b===void 0?function(_){return _}:b;if(!a)throw new Error(vr("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(vr('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(p===!0&&m<=u)throw new Error(vr("`showMoreLimit` should be greater than `limit`."));var S=function(F){var I=F.name,H=F.escapedValue,W=Wi(F,xf);return V(V({},W),{},{value:H,label:I,highlighted:I})},P,w=[],R=!0,O,$,x=!1,A=function(){};function L(){A()}function U(_,F){return function(){x=!x,F.render(_)}}function T(){return x?m:u}var N=function(){return function(){}},D=function(F,I){return function(H){return function(W){var Q=H.instantSearchInstance,ie=H.results;if(W===""&&w)t(V(V({},I.getWidgetRenderState(V(V({},H),{},{results:P}))),{},{instantSearchInstance:Q}),!1);else{var Z={highlightPreTag:v?He.highlightPreTag:ue.highlightPreTag,highlightPostTag:v?He.highlightPostTag:ue.highlightPostTag};F.searchForFacetValues(a,W,Math.min(T(),100),Z).then(function(pe){var fe=v?Fo(pe.facetHits):pe.facetHits,ve=y(fe.map(function(le){var we=le.escapedValue,ye=le.value,gt=Wi(le,_f);return V(V({},gt),{},{value:we,label:ye})}),{results:ie});t(V(V({},I.getWidgetRenderState(V(V({},H),{},{results:P}))),{},{items:ve,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:Q}),!1)})}}}};return{$$type:"ais.refinementList",init:function(F){t(V(V({},this.getWidgetRenderState(F)),{},{instantSearchInstance:F.instantSearchInstance}),!0)},render:function(F){t(V(V({},this.getWidgetRenderState(F)),{},{instantSearchInstance:F.instantSearchInstance}),!1)},getRenderState:function(F,I){return V(V({},F),{},{refinementList:V(V({},F.refinementList),{},Pt({},a,this.getWidgetRenderState(I)))})},getWidgetRenderState:function(F){var I=F.results,H=F.state,W=F.createURL,Q=F.instantSearchInstance,ie=F.helper,Z=[],pe=[];if((!$||!O||!N)&&($=Nn({instantSearchInstance:Q,helper:ie,attribute:a,widgetType:this.$$type}),O=function(mr){$("click",mr),ie.toggleFacetRefinement(a,mr).search()},N=D(ie,this)),I){var fe=I.getFacetValues(a,{sortBy:l,facetOrdering:l===Ci});pe=fe&&Array.isArray(fe)?fe:[],Z=y(pe.slice(0,T()).map(S),{results:I});var ve=H.maxValuesPerFacet,le=T();R=ve>le?pe.length<=le:pe.length<le,P=I,w=Z,F.results&&(A=U(F,this))}var we=N&&N(F),ye=x&&w.length>u,gt=p&&!R,eo=ye||gt;return{createURL:function(mr){return W(H.resetPage().toggleFacetRefinement(a,mr))},items:Z,refine:O,searchForItems:we,isFromSearch:!1,canRefine:Z.length>0,widgetParams:n,isShowingMore:x,canToggleShowMore:eo,toggleShowMore:L,sendEvent:$,hasExhaustiveItems:R}},dispose:function(F){var I=F.state;r();var H=I.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?H.removeFacet(a):H.removeDisjunctiveFacet(a)},getWidgetUiState:function(F,I){var H=I.searchParameters,W=o==="or"?H.getDisjunctiveRefinements(a):H.getConjunctiveRefinements(a);return W.length?V(V({},F),{},{refinementList:V(V({},F.refinementList),{},Pt({},a,W))}):F},getWidgetSearchParameters:function(F,I){var H=I.uiState,W=o==="or",Q=H.refinementList&&H.refinementList[a],ie=F.clearRefinements(a),Z=W?ie.addDisjunctiveFacet(a):ie.addFacet(a),pe=Z.maxValuesPerFacet||0,fe=Math.max(pe,p?m:u),ve=Z.setQueryParameter("maxValuesPerFacet",fe);if(!Q){var le=W?"disjunctiveFacetsRefinements":"facetsRefinements";return ve.setQueryParameters(Pt({},le,V(V({},ve[le]),{},Pt({},a,[]))))}return Q.reduce(function(we,ye){return W?we.addDisjunctiveFacetRefinement(a,ye):we.addFacetRefinement(a,ye)},ve)}}}};const Hf=Af;function Vt(e){return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(e)}function Mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mi(Object(r),!0).forEach(function(n){Df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Df(e,t,r){return t=Lf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lf(e){var t=Nf(e,"string");return Vt(t)==="symbol"?t:String(t)}function Nf(e,t){if(Vt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf=K({name:"search-box",connector:!0}),Cf=function(t,r){return r(t)},Mf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,Wf()),function(n){var i=n||{},a=i.queryHook,s=a===void 0?Cf:a,o,c;return{$$type:"ais.searchBox",init:function(f){var p=f.instantSearchInstance;t(qe(qe({},this.getWidgetRenderState(f)),{},{instantSearchInstance:p}),!0)},render:function(f){var p=f.instantSearchInstance;t(qe(qe({},this.getWidgetRenderState(f)),{},{instantSearchInstance:p}),!1)},dispose:function(f){var p=f.state;return r(),p.setQueryParameter("query",void 0)},getRenderState:function(f,p){return qe(qe({},f),{},{searchBox:this.getWidgetRenderState(p)})},getWidgetRenderState:function(f){var p=f.helper,d=f.searchMetadata,m=f.state;return o||(o=function(l){s(l,function(g){return p.setQuery(g).search()})},c=function(){p.setQuery("").search()}),{query:m.query||"",refine:o,clear:c,widgetParams:n,isSearchStalled:d.isSearchStalled}},getWidgetUiState:function(f,p){var d=p.searchParameters,m=d.query||"";return m===""||f&&f.query===m?f:qe(qe({},f),{},{query:m})},getWidgetSearchParameters:function(f,p){var d=p.uiState;return f.setQueryParameter("query",d.query||"")}}}};const Uf=Mf;function kt(e){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(e)}function Ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ui(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qf(e,t,r){return t=qf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qf(e){var t=Bf(e,"string");return kt(t)==="symbol"?t:String(t)}function Bf(e,t){if(kt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qi=K({name:"sort-by",connector:!0}),Vf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;Y(t,Qi());var n={};return function(i){var a=i||{},s=a.items,o=a.transformItems,c=o===void 0?function(u){return u}:o;if(!Array.isArray(s))throw new Error(Qi("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(f){var p=f.instantSearchInstance,d=this.getWidgetRenderState(f),m=d.currentRefinement;tt(s,function(h){return h.value===m}),t(Be(Be({},d),{},{instantSearchInstance:p}),!0)},render:function(f){var p=f.instantSearchInstance;t(Be(Be({},this.getWidgetRenderState(f)),{},{instantSearchInstance:p}),!1)},dispose:function(f){var p=f.state;return r(),n.initialIndex?p.setIndex(n.initialIndex):p},getRenderState:function(f,p){return Be(Be({},f),{},{sortBy:this.getWidgetRenderState(p)})},getWidgetRenderState:function(f){var p=f.results,d=f.helper,m=f.state,h=f.parent;!n.initialIndex&&h&&(n.initialIndex=h.getIndexName()),n.setIndex||(n.setIndex=function(g){d.setIndex(g).search()});var l=p?p.nbHits===0:!0;return{currentRefinement:m.index,options:c(s,{results:p}),refine:n.setIndex,hasNoResults:l,canRefine:!l&&s.length>0,widgetParams:i}},getWidgetUiState:function(f,p){var d=p.searchParameters,m=d.index;return Be(Be({},f),{},{sortBy:m!==n.initialIndex?m:void 0})},getWidgetSearchParameters:function(f,p){var d=p.uiState;return f.setQueryParameter("index",d.sortBy||n.initialIndex||f.index)}}}};const kf=Vf;function Kt(e){return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(e)}function Kf(e){return Yf(e)||Jf(e)||ns(e)||zf()}function zf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jf(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yf(e){if(Array.isArray(e))return Pn(e)}function qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qi(Object(r),!0).forEach(function(n){xr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xr(e,t,r){return t=Gf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gf(e){var t=Zf(e,"string");return Kt(t)==="symbol"?t:String(t)}function Zf(e,t){if(Kt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xf(e,t){return rl(e)||tl(e,t)||ns(e,t)||el()}function el(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ns(e,t){if(e){if(typeof e=="string")return Pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pn(e,t)}}function Pn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tl(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rl(e){if(Array.isArray(e))return e}var Bi=K({name:"rating-menu",connector:!0}),is="ais.ratingMenu",yr=1,nl=function(t){var r=t.instantSearchInstance,n=t.helper,i=t.getRefinedStar,a=t.attribute;return function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];if(o.length===1){r.sendEventToInsights(o[0]);return}var u=o[0],f=o[1],p=o[2],d=p===void 0?"Filter Applied":p;if(u==="click"){var m=i()===Number(f);m||r.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:is,eventType:u,payload:{eventName:d,index:n.getIndex(),filters:["".concat(a,">=").concat(f)]},attribute:a})}}},il=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,Bi()),function(n){var i=n||{},a=i.attribute,s=i.max,o=s===void 0?5:s,c;if(!a)throw new Error(Bi("The `attribute` option is required."));var u=function(l){var g,v=l.getNumericRefinements(a);if((g=v[">="])!==null&&g!==void 0&&g.length)return v[">="][0]},f=function(l){var g=0;return l.forEach(function(v){var b=v.name.split("."),y=Xf(b,2),S=y[1],P=S===void 0?"":S;g=Math.max(g,P.length)}),g};function p(h,l){var g=u(h)===Number(l),v=h.resetPage().removeNumericRefinement(a);return g?v:v.addNumericRefinement(a,"<=",o).addNumericRefinement(a,">=",Number(l))}var d=function(l,g){c("click",g),l.setState(p(l.state,g)).search()},m={toggleRefinementFactory:function(l){return d.bind(null,l)},createURLFactory:function(l){var g=l.state,v=l.createURL;return function(b){return v(p(g,b))}}};return{$$type:is,init:function(l){var g=l.instantSearchInstance;t(he(he({},this.getWidgetRenderState(l)),{},{instantSearchInstance:g}),!0)},render:function(l){var g=l.instantSearchInstance;t(he(he({},this.getWidgetRenderState(l)),{},{instantSearchInstance:g}),!1)},getRenderState:function(l,g){return he(he({},l),{},{ratingMenu:he(he({},l.ratingMenu),{},xr({},a,this.getWidgetRenderState(g)))})},getWidgetRenderState:function(l){var g=l.helper,v=l.results,b=l.state,y=l.instantSearchInstance,S=l.createURL,P=[];c||(c=nl({instantSearchInstance:y,helper:g,getRefinedStar:function(){return u(g.state)},attribute:a}));var w=!1,R=0,O=v==null?void 0:v.getFacetValues(a,{});if(v&&O){O.length,f(O);for(var $=u(b),x=function(N){var D=$===N;w=w||D;var _=O.filter(function(I){return Number(I.name)>=N&&Number(I.name)<=o}).map(function(I){return I.count}).reduce(function(I,H){return I+H},0);if(R+=_,$&&!D&&_===0)return"continue";var F=Kf(new Array(Math.floor(o/yr))).map(function(I,H){return H*yr<N});P.push({stars:F,name:String(N),label:String(N),value:String(N),count:_,isRefined:D})},A=yr;A<o;A+=yr)var L=x(A)}P=P.reverse();var U=v?v.nbHits===0:!0;return{items:P,hasNoResults:U,canRefine:(!U||w)&&R>0,refine:m.toggleRefinementFactory(g),sendEvent:c,createURL:m.createURLFactory({state:b,createURL:S}),widgetParams:n}},dispose:function(l){var g=l.state;return r(),g.removeNumericRefinement(a)},getWidgetUiState:function(l,g){var v=g.searchParameters,b=u(v);return typeof b!="number"?l:he(he({},l),{},{ratingMenu:he(he({},l.ratingMenu),{},xr({},a,b))})},getWidgetSearchParameters:function(l,g){var v=g.uiState,b=v.ratingMenu&&v.ratingMenu[a],y=l.clearRefinements(a),S=y.addDisjunctiveFacet(a);return b?S.addNumericRefinement(a,"<=",o).addNumericRefinement(a,">=",b):S.setQueryParameters({numericRefinements:he(he({},S.numericRefinements),{},xr({},a,{}))})}}}};const al=il;function zt(e){return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(e)}function Vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vi(Object(r),!0).forEach(function(n){sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sl(e,t,r){return t=ol(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ol(e){var t=ul(e,"string");return zt(t)==="symbol"?t:String(t)}function ul(e,t){if(zt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cl=K({name:"stats",connector:!0}),fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,cl()),function(n){return{$$type:"ais.stats",init:function(a){var s=a.instantSearchInstance;t(st(st({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!0)},render:function(a){var s=a.instantSearchInstance;t(st(st({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!1)},dispose:function(){r()},getRenderState:function(a,s){return st(st({},a),{},{stats:this.getWidgetRenderState(s)})},getWidgetRenderState:function(a){var s=a.results,o=a.state;return s?{hitsPerPage:s.hitsPerPage,nbHits:s.nbHits,nbSortedHits:s.nbSortedHits,areHitsSorted:typeof s.appliedRelevancyStrictness<"u"&&s.appliedRelevancyStrictness>0&&s.nbSortedHits!==s.nbHits,nbPages:s.nbPages,page:s.page,processingTimeMS:s.processingTimeMS,query:s.query,widgetParams:n}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:n}}}}};const ll=fl;function Jt(e){return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(e)}function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ki(Object(r),!0).forEach(function(n){_r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _r(e,t,r){return t=hl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hl(e){var t=dl(e,"string");return Jt(t)==="symbol"?t:String(t)}function dl(e,t){if(Jt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki=K({name:"toggle-refinement",connector:!0}),as="ais.toggleRefinement",ml=function(t){var r=t.instantSearchInstance,n=t.helper,i=t.attribute,a=t.on,s=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];if(u.length===1){r.sendEventToInsights(u[0]);return}var p=u[0],d=u[1],m=u[2],h=m===void 0?"Filter Applied":m;p!=="click"||a===void 0||d||r.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:as,eventType:p,payload:{eventName:h,index:n.getIndex(),filters:a.map(function(l){return"".concat(i,":").concat(l)})},attribute:i})};return s},gl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,Ki()),function(n){var i=n||{},a=i.attribute,s=i.on,o=s===void 0?!0:s,c=i.off;if(!a)throw new Error(Ki("The `attribute` option is required."));var u=c!==void 0,f=Vr(o).map(bt),p=u?Vr(c).map(bt):void 0,d,m=function(g){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isRefined:!1},b=v.isRefined;b?(f.forEach(function(y){return g.removeDisjunctiveFacetRefinement(a,y)}),u&&p.forEach(function(y){return g.addDisjunctiveFacetRefinement(a,y)})):(d("click",b),u&&p.forEach(function(y){return g.removeDisjunctiveFacetRefinement(a,y)}),f.forEach(function(y){return g.addDisjunctiveFacetRefinement(a,y)})),g.search()}},h={createURLFactory:function(g,v){var b=v.state,y=v.createURL;return function(){b=b.resetPage();var S=g?f:p;S&&S.forEach(function(w){b=b.removeDisjunctiveFacetRefinement(a,w)});var P=g?p:f;return P&&P.forEach(function(w){b=b.addDisjunctiveFacetRefinement(a,w)}),y(b)}}};return{$$type:as,init:function(g){var v=g.instantSearchInstance;t(de(de({},this.getWidgetRenderState(g)),{},{instantSearchInstance:v}),!0)},render:function(g){var v=g.instantSearchInstance;t(de(de({},this.getWidgetRenderState(g)),{},{instantSearchInstance:v}),!1)},dispose:function(g){var v=g.state;return r(),v.removeDisjunctiveFacet(a)},getRenderState:function(g,v){return de(de({},g),{},{toggleRefinement:de(de({},g.toggleRefinement),{},_r({},a,this.getWidgetRenderState(v)))})},getWidgetRenderState:function(g){var v=g.state,b=g.helper,y=g.results,S=g.createURL,P=g.instantSearchInstance,w=y?f.every(function(T){return v.isDisjunctiveFacetRefined(a,T)}):f.every(function(T){return v.isDisjunctiveFacetRefined(a,T)}),R={isRefined:w,count:0},O={isRefined:u&&!w,count:0};if(y){var $=Vr(p||!1),x=y.getFacetValues(a,{})||[],A=f.map(function(T){return tt(x,function(N){var D=N.escapedValue;return D===bt(String(T))})}).filter(function(T){return T!==void 0}),L=u?$.map(function(T){return tt(x,function(N){var D=N.escapedValue;return D===bt(String(T))})}).filter(function(T){return T!==void 0}):[];R={isRefined:A.length?A.every(function(T){return T.isRefined}):!1,count:A.reduce(function(T,N){return T+N.count},0)||null},O={isRefined:L.length?L.every(function(T){return T.isRefined}):!1,count:L.reduce(function(T,N){return T+N.count},0)||x.reduce(function(T,N){var D=N.count;return T+D},0)}}d||(d=ml({instantSearchInstance:P,attribute:a,on:f,helper:b}));var U=w?O:R;return{value:{name:a,isRefined:w,count:y?U.count:null,onFacetValue:R,offFacetValue:O},createURL:h.createURLFactory(w,{state:v,createURL:S}),sendEvent:d,canRefine:Boolean(y?U.count:null),refine:m(b),widgetParams:n}},getWidgetUiState:function(g,v){var b=v.searchParameters,y=f&&f.every(function(S){return b.isDisjunctiveFacetRefined(a,S)});return y?de(de({},g),{},{toggle:de(de({},g.toggle),{},_r({},a,y))}):g},getWidgetSearchParameters:function(g,v){var b=v.uiState,y=g.clearRefinements(a).addDisjunctiveFacet(a),S=Boolean(b.toggle&&b.toggle[a]);return S?(f&&f.forEach(function(P){y=y.addDisjunctiveFacetRefinement(a,P)}),y):u?(p&&p.forEach(function(P){y=y.addDisjunctiveFacetRefinement(a,P)}),y):y.setQueryParameters({disjunctiveFacetsRefinements:de(de({},g.disjunctiveFacetsRefinements),{},_r({},a,[]))})}}}};const pl=gl;function Yt(e){return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(e)}function zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zi(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ss(e,t,r){return t=vl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vl(e){var t=yl(e,"string");return Yt(t)==="symbol"?t:String(t)}function yl(e,t){if(Yt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(e,t){return Pl(e)||wl(e,t)||Sl(e,t)||bl()}function bl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sl(e,t){if(e){if(typeof e=="string")return Yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yi(e,t)}}function Yi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wl(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Pl(e){if(Array.isArray(e))return e}var Gi=K({name:"breadcrumb",connector:!0}),Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;Y(t,Gi());var n={};return function(i){var a=i||{},s=a.attributes,o=a.separator,c=o===void 0?" > ":o,u=a.rootPath,f=u===void 0?null:u,p=a.transformItems,d=p===void 0?function(g){return g}:p;if(!s||!Array.isArray(s)||s.length===0)throw new Error(Gi("The `attributes` option expects an array of strings."));var m=Ji(s,1),h=m[0];function l(g,v){if(!v){var b=g.getHierarchicalFacetBreadcrumb(h);return b.length===0?g:g.resetPage().toggleFacetRefinement(h,b[0])}return g.resetPage().toggleFacetRefinement(h,v)}return{$$type:"ais.breadcrumb",init:function(v){t(Ve(Ve({},this.getWidgetRenderState(v)),{},{instantSearchInstance:v.instantSearchInstance}),!0)},render:function(v){t(Ve(Ve({},this.getWidgetRenderState(v)),{},{instantSearchInstance:v.instantSearchInstance}),!1)},dispose:function(){r()},getRenderState:function(v,b){return Ve(Ve({},v),{},{breadcrumb:Ve(Ve({},v.breadcrumb),{},ss({},h,this.getWidgetRenderState(b)))})},getWidgetRenderState:function(v){var b=v.helper,y=v.createURL,S=v.results,P=v.state;function w(){if(!S||P.hierarchicalFacets.length===0)return[];var O=Ji(P.hierarchicalFacets,1),$=O[0].name,x=S.getFacetValues($,{}),A=x&&!Array.isArray(x)&&x.data?x.data:[],L=d(Ol(os(A)),{results:S});return L}var R=w();return n.createURL||(n.createURL=function(O){return y(l(b.state,O))}),n.refine||(n.refine=function(O){b.setState(l(b.state,O)).search()}),{canRefine:R.length>0,createURL:n.createURL,items:R,refine:n.refine,widgetParams:i}},getWidgetSearchParameters:function(v){return v.isHierarchicalFacet(h)?(v.getHierarchicalFacetByName(h),v):v.addHierarchicalFacet({name:h,attributes:s,separator:c,rootPath:f})}}}};function os(e){return e.reduce(function(t,r){return r.isRefined&&(t.push({label:r.name,value:r.escapedValue}),Array.isArray(r.data)&&(t=t.concat(os(r.data)))),t},[])}function Ol(e){return e.map(function(t,r){return{label:t.label,value:r+1===e.length?null:e[r+1].value}})}const $l=Rl;function jl(e){return typeof e=="object"&&e!==null?Un(Array.isArray(e)?[]:{},e):e}function Tr(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function Un(e,t){if(e===t)return e;for(var r in t)if(!(!Object.prototype.hasOwnProperty.call(t,r)||r==="__proto__"||r==="constructor")){var n=t[r],i=e[r];typeof i<"u"&&typeof n>"u"||(Tr(i)&&Tr(n)?e[r]=Un(i,n):e[r]=jl(n))}return e}function Fl(e){Tr(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];Tr(n)&&Un(e,n)}return e}var Mr=Fl,Qn=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})};function xl(e,t){return e.filter(function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n})}var _l=xl,Ur=function(t,r){if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}};function us(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(us);throw new Error("The value should be a number, a parsable string or an array of those.")}var Il=us;function El(e,t){if(e===null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var qn=El;function Tl(e){return e&&Object.keys(e).length>0}var Bn=Tl,Al=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},Hl=Qn,Dl=qn,Ll=Bn,Ze={addRefinement:function(t,r,n){if(Ze.isRefined(t,r,n))return t;var i=""+n,a=t[r]?t[r].concat(i):[i],s={};return s[r]=a,Hl({},s,t)},removeRefinement:function(t,r,n){if(n===void 0)return Ze.clearRefinement(t,function(a,s){return r===s});var i=""+n;return Ze.clearRefinement(t,function(a,s){return r===s&&i===a})},toggleRefinement:function(t,r,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return Ze.isRefined(t,r,n)?Ze.removeRefinement(t,r,n):Ze.addRefinement(t,r,n)},clearRefinement:function(t,r,n){if(r===void 0)return Ll(t)?{}:t;if(typeof r=="string")return Dl(t,[r]);if(typeof r=="function"){var i=!1,a=Object.keys(t).reduce(function(s,o){var c=t[o]||[],u=c.filter(function(f){return!r(f,o,n)});return u.length!==c.length&&(i=!0),s[o]=u,s},{});return i?a:t}},isRefined:function(t,r,n){var i=!!t[r]&&t[r].length>0;if(n===void 0||!i)return i;var a=""+n;return t[r].indexOf(a)!==-1}},Nl=Ze,Rn=Mr,Gr=Qn,Zi=_l,cs=Ur,Zr=Il,Xi=qn,On=Bn,Wl=Al,J=Nl;function Vn(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(r,n){return Vn(t[n],r)}):e===t}function Cl(e,t){return cs(e,function(r){return Vn(r,t)})}function me(e){var t=e?me._parseNumbers(e):{};t.userToken!==void 0&&!Wl(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach(function(n){var i=me.PARAMETERS.indexOf(n)!==-1,a=t[n]!==void 0;!i&&a&&(r[n]=t[n])})}me.PARAMETERS=Object.keys(new me);me._parseNumbers=function(e){if(e instanceof me)return e;var t={},r=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(r.forEach(function(i){var a=e[i];if(typeof a=="string"){var s=parseFloat(a);t[i]=isNaN(s)?a:s}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach(function(i){var a=e.numericRefinements[i]||{};n[i]={},Object.keys(a).forEach(function(s){var o=a[s],c=o.map(function(u){return Array.isArray(u)?u.map(function(f){return typeof f=="string"?parseFloat(f):f}):typeof u=="string"?parseFloat(u):u});n[i][s]=c})}),t.numericRefinements=n}return Rn({},e,t)};me.make=function(t){var r=new me(t),n=t.hierarchicalFacets||[];return n.forEach(function(i){if(i.rootPath){var a=r.getHierarchicalRefinement(i.name);a.length>0&&a[0].indexOf(i.rootPath)!==0&&(r=r.clearRefinements(i.name)),a=r.getHierarchicalRefinement(i.name),a.length===0&&(r=r.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),r};me.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&On(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):On(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};me.prototype={constructor:me,clearRefinements:function(t){var r={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:J.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:J.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:J.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:J.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,r){var n=Zr(r);if(this.isNumericRefined(e,t,n))return this;var i=Rn({},this.numericRefinements);return i[e]=Rn({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,r){return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e&&n.op===t&&Vn(n.val,Zr(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return On(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return Xi(this.numericRefinements,[t]);if(typeof t=="function"){var r=!1,n=this.numericRefinements,i=Object.keys(n).reduce(function(a,s){var o=n[s],c={};return o=o||{},Object.keys(o).forEach(function(u){var f=o[u]||[],p=[];f.forEach(function(d){var m=t({val:d,op:u},s,"numeric");m||p.push(d)}),p.length!==f.length&&(r=!0),c[u]=p}),a[s]=c,a},{});return r?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return J.isRefined(this.facetsRefinements,t,r)?this:this.setQueryParameters({facetsRefinements:J.addRefinement(this.facetsRefinements,t,r)})},addExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return J.isRefined(this.facetsExcludes,t,r)?this:this.setQueryParameters({facetsExcludes:J.addRefinement(this.facetsExcludes,t,r)})},addDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return J.isRefined(this.disjunctiveFacetsRefinements,t,r)?this:this.setQueryParameters({disjunctiveFacetsRefinements:J.addRefinement(this.disjunctiveFacetsRefinements,t,r)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(r)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(r){return r!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(r){return r!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(r){return r.name!==t})}):this},removeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return J.isRefined(this.facetsRefinements,t,r)?this.setQueryParameters({facetsRefinements:J.removeRefinement(this.facetsRefinements,t,r)}):this},removeExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return J.isRefined(this.facetsExcludes,t,r)?this.setQueryParameters({facetsExcludes:J.removeRefinement(this.facetsExcludes,t,r)}):this},removeDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return J.isRefined(this.disjunctiveFacetsRefinements,t,r)?this.setQueryParameters({disjunctiveFacetsRefinements:J.removeRefinement(this.disjunctiveFacetsRefinements,t,r)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.filter(function(n){return n!==t})};return this.setQueryParameters(r)},toggleRefinement:function(t,r){return this.toggleFacetRefinement(t,r)},toggleFacetRefinement:function(t,r){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,r);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,r);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,r);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:J.toggleRefinement(this.facetsRefinements,t,r)})},toggleExcludeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:J.toggleRefinement(this.facetsExcludes,t,r)})},toggleDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:J.toggleRefinement(this.disjunctiveFacetsRefinements,t,r)})},toggleHierarchicalFacetRefinement:function(t,r){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},a=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===r||this.hierarchicalFacetsRefinements[t][0].indexOf(r+n)===0);return a?r.indexOf(n)===-1?i[t]=[]:i[t]=[r.slice(0,r.lastIndexOf(n))]:i[t]=[r],this.setQueryParameters({hierarchicalFacetsRefinements:Gr({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Gr({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Gr({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,r){return this.isConjunctiveFacet(t)?J.isRefined(this.facetsRefinements,t,r):!1},isExcludeRefined:function(t,r){return this.isConjunctiveFacet(t)?J.isRefined(this.facetsExcludes,t,r):!1},isDisjunctiveFacetRefined:function(t,r){return this.isDisjunctiveFacet(t)?J.isRefined(this.disjunctiveFacetsRefinements,t,r):!1},isHierarchicalFacetRefined:function(t,r){if(!this.isHierarchicalFacet(t))return!1;var n=this.getHierarchicalRefinement(t);return r?n.indexOf(r)!==-1:n.length>0},isNumericRefined:function(t,r,n){if(n===void 0&&r===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][r]!==void 0;if(n===void 0||!i)return i;var a=Zr(n),s=Cl(this.numericRefinements[t][r],a)!==void 0;return i&&s},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,r=Zi(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(t.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return t.disjunctiveFacetsRefinements[n].length>0}).concat(r).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return Zi(this.hierarchicalFacets.map(function(r){return r.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(r){return t.hierarchicalFacetsRefinements[r].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,r={},n=this;return Object.keys(this).forEach(function(i){var a=n[i];t.indexOf(i)===-1&&a!==void 0&&(r[i]=a)}),r},setQueryParameter:function(t,r){if(this[t]===r)return this;var n={};return n[t]=r,this.setQueryParameters(n)},setQueryParameters:function(t){if(!t)return this;var r=me.validate(this,t);if(r)throw r;var n=this,i=me._parseNumbers(t),a=Object.keys(this).reduce(function(o,c){return o[c]=n[c],o},{}),s=Object.keys(i).reduce(function(o,c){var u=o[c]!==void 0,f=i[c]!==void 0;return u&&!f?Xi(o,[c]):(f&&(o[c]=i[c]),o)},a);return new this.constructor(s)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return cs(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n=t.split(r);return n.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var fs=me;function Ml(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=t!==void 0,a=t===null;if(!a&&e>t||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}function Ul(e,t,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var n=e.map(function(i,a){return{criteria:t.map(function(s){return i[s]}),index:a,value:i}});return n.sort(function(a,s){for(var o=-1;++o<a.criteria.length;){var c=Ml(a.criteria[o],s.criteria[o]);if(c)return o>=r.length?c:r[o]==="desc"?-c:c}return a.index-s.index}),n.map(function(i){return i.value})}var ls=Ul,Ql=function(t){return Array.isArray(t)?t.filter(Boolean):[]},ql=function(t,r){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(r(t[n]))return n;return-1},Bl=Ur,hs=function(t,r){var n=(r||[]).map(function(i){return i.split(":")});return t.reduce(function(a,s){var o=s.split(":"),c=Bl(n,function(u){return u[0]===o[0]});return o.length>1||!c?(a[0].push(o[0]),a[1].push(o[1]),a):(a[0].push(c[0]),a[1].push(c[1]),a)},[[],[]])};function Vl(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function kl(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var kn={escapeFacetValue:Vl,unescapeFacetValue:kl},Kl=Xl,zl=ls,Jl=Ur,Yl=hs,ds=kn,Gl=ds.escapeFacetValue,Zl=ds.unescapeFacetValue;function Xl(e){return function(r,n){var i=e.hierarchicalFacets[n],a=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",s=e._getHierarchicalFacetSeparator(i),o=e._getHierarchicalRootPath(i),c=e._getHierarchicalShowParentLevel(i),u=Yl(e._getHierarchicalFacetSortBy(i)),f=r.every(function(m){return m.exhaustive}),p=eh(u,s,o,c,a),d=r;return o&&(d=r.slice(o.split(s).length)),d.reduce(p,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:f,data:null})}}function eh(e,t,r,n,i){return function(s,o,c){var u=s;if(c>0){var f=0;for(u=s;f<c;){var p=u&&Array.isArray(u.data)?u.data:[];u=Jl(p,function(m){return m.isRefined}),f++}}if(u){var d=Object.keys(o.data).map(function(m){return[m,o.data[m]]}).filter(function(m){var h=m[0];return th(h,u.path||r,i,t,r,n)});u.data=zl(d.map(function(m){var h=m[0],l=m[1];return rh(l,h,t,Zl(i),o.exhaustive)}),e[0],e[1])}return s}}function th(e,t,r,n,i,a){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(n)===-1||i&&e.split(n).length-i.split(n).length===1||e.indexOf(n)===-1&&r.indexOf(n)===-1||r.indexOf(e)===0||e.indexOf(t+n)===0&&(a||e.indexOf(r)===0)}function rh(e,t,r,n,i){var a=t.split(r);return{name:a[a.length-1].trim(),path:t,escapedValue:Gl(t),count:e,isRefined:n===t||n.indexOf(t+r)===0,exhaustive:i,data:null}}var nh=Mr,Ar=Qn,ms=ls,Xr=Ql,_e=Ur,vt=ql,ih=hs,gs=kn,ea=gs.escapeFacetValue,ps=gs.unescapeFacetValue,ah=Kl;function ta(e){var t={};return e.forEach(function(r,n){t[r]=n}),t}function en(e,t,r){t&&t[r]&&(e.stats=t[r])}function sh(e,t){return _e(e,function(n){var i=n.attributes||[];return i.indexOf(t)>-1})}function Ge(e,t,r){var n=t[0];this._rawResults=t;var i=this;Object.keys(n).forEach(function(f){i[f]=n[f]}),Object.keys(r||{}).forEach(function(f){i[f]=r[f]}),this.processingTimeMS=t.reduce(function(f,p){return p.processingTimeMS===void 0?f:f+p.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),s=ta(e.facets),o=ta(e.disjunctiveFacets),c=1,u=n.facets||{};Object.keys(u).forEach(function(f){var p=u[f],d=sh(e.hierarchicalFacets,f);if(d){var m=d.attributes.indexOf(f),h=vt(e.hierarchicalFacets,function(b){return b.name===d.name});i.hierarchicalFacets[h][m]={attribute:f,data:p,exhaustive:n.exhaustiveFacetsCount}}else{var l=e.disjunctiveFacets.indexOf(f)!==-1,g=e.facets.indexOf(f)!==-1,v;l&&(v=o[f],i.disjunctiveFacets[v]={name:f,data:p,exhaustive:n.exhaustiveFacetsCount},en(i.disjunctiveFacets[v],n.facets_stats,f)),g&&(v=s[f],i.facets[v]={name:f,data:p,exhaustive:n.exhaustiveFacetsCount},en(i.facets[v],n.facets_stats,f))}}),this.hierarchicalFacets=Xr(this.hierarchicalFacets),a.forEach(function(f){var p=t[c],d=p&&p.facets?p.facets:{},m=e.getHierarchicalFacetByName(f);Object.keys(d).forEach(function(h){var l=d[h],g;if(m){g=vt(e.hierarchicalFacets,function(y){return y.name===m.name});var v=vt(i.hierarchicalFacets[g],function(y){return y.attribute===h});if(v===-1)return;i.hierarchicalFacets[g][v].data=nh({},i.hierarchicalFacets[g][v].data,l)}else{g=o[h];var b=n.facets&&n.facets[h]||{};i.disjunctiveFacets[g]={name:h,data:Ar({},l,b),exhaustive:p.exhaustiveFacetsCount},en(i.disjunctiveFacets[g],p.facets_stats,h),e.disjunctiveFacetsRefinements[h]&&e.disjunctiveFacetsRefinements[h].forEach(function(y){!i.disjunctiveFacets[g].data[y]&&e.disjunctiveFacetsRefinements[h].indexOf(ps(y))>-1&&(i.disjunctiveFacets[g].data[y]=0)})}}),c++}),e.getRefinedHierarchicalFacets().forEach(function(f){var p=e.getHierarchicalFacetByName(f),d=e._getHierarchicalFacetSeparator(p),m=e.getHierarchicalRefinement(f);m.length===0||m[0].split(d).length<2||t.slice(c).forEach(function(h){var l=h&&h.facets?h.facets:{};Object.keys(l).forEach(function(g){var v=l[g],b=vt(e.hierarchicalFacets,function(w){return w.name===p.name}),y=vt(i.hierarchicalFacets[b],function(w){return w.attribute===g});if(y!==-1){var S={};if(m.length>0){var P=m[0].split(d)[0];S[P]=i.hierarchicalFacets[b][y].data[P]}i.hierarchicalFacets[b][y].data=Ar(S,v,i.hierarchicalFacets[b][y].data)}}),c++})}),Object.keys(e.facetsExcludes).forEach(function(f){var p=e.facetsExcludes[f],d=s[f];i.facets[d]={name:f,data:n.facets[f],exhaustive:n.exhaustiveFacetsCount},p.forEach(function(m){i.facets[d]=i.facets[d]||{name:f},i.facets[d].data=i.facets[d].data||{},i.facets[d].data[m]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(ah(e)),this.facets=Xr(this.facets),this.disjunctiveFacets=Xr(this.disjunctiveFacets),this._state=e}Ge.prototype.getFacetByName=function(e){function t(r){return r.name===e}return _e(this.facets,t)||_e(this.disjunctiveFacets,t)||_e(this.hierarchicalFacets,t)};function oh(e,t){function r(c){return c.name===t}if(e._state.isConjunctiveFacet(t)){var n=_e(e.facets,r);return n?Object.keys(n.data).map(function(c){var u=ea(c);return{name:c,escapedValue:u,count:n.data[c],isRefined:e._state.isFacetRefined(t,u),isExcluded:e._state.isExcludeRefined(t,c)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=_e(e.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(c){var u=ea(c);return{name:c,escapedValue:u,count:i.data[c],isRefined:e._state.isDisjunctiveFacetRefined(t,u)}}):[]}else if(e._state.isHierarchicalFacet(t)){var a=_e(e.hierarchicalFacets,r);if(!a)return a;var s=e._state.getHierarchicalFacetByName(t),o=ps(e._state.getHierarchicalRefinement(t)[0]||"").split(e._state._getHierarchicalFacetSeparator(s));return o.unshift(t),vs(a,o,0),a}}function vs(e,t,r){e.isRefined=e.name===t[r],e.data&&e.data.forEach(function(n){vs(n,t,r+1)})}function ys(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(o){return ys(e,o,r,n+1)}),a=e(i,r[n]),s=Ar({data:a},t);return s}Ge.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function uh(e,t){return t.sort(e)}function ch(e,t){var r=[],n=[],i=t.order||[],a=i.reduce(function(c,u,f){return c[u]=f,c},{});e.forEach(function(c){var u=c.path||c.name;a[u]!==void 0?r[a[u]]=c:n.push(c)}),r=r.filter(function(c){return c});var s=t.sortRemainingBy,o;return s==="hidden"?r:(s==="alpha"?o=[["path","name"],["asc","asc"]]:o=[["count"],["desc"]],r.concat(ms(n,o[0],o[1])))}function fh(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Ge.prototype.getFacetValues=function(e,t){var r=oh(this,e);if(r){var n=Ar({},t,{sortBy:Ge.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,a;if(Array.isArray(r))a=[e];else{var s=i._state.getHierarchicalFacetByName(r.name);a=s.attributes}return ys(function(o,c){if(n.facetOrdering){var u=fh(i,c);if(Boolean(u))return ch(o,u)}if(Array.isArray(n.sortBy)){var f=ih(n.sortBy,Ge.DEFAULT_SORT);return ms(o,f[0],f[1])}else if(typeof n.sortBy=="function")return uh(n.sortBy,o);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,a)}};Ge.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return ra(this.facets,e);if(this._state.isDisjunctiveFacet(e))return ra(this.disjunctiveFacets,e)};function ra(e,t){var r=_e(e,function(n){return n.name===t});return r&&r.stats}Ge.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach(function(n){e.facetsRefinements[n].forEach(function(i){r.push(tn(e,"facet",n,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(n){e.facetsExcludes[n].forEach(function(i){r.push(tn(e,"exclude",n,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(n){e.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(tn(e,"disjunctive",n,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(n){e.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(lh(e,n,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n];Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:a})})})}),e.tagRefinements.forEach(function(n){r.push({type:"tag",attributeName:"_tags",name:n})}),r};function tn(e,t,r,n,i){var a=_e(i,function(c){return c.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,o=a&&a.exhaustive||!1;return{type:t,attributeName:r,name:n,count:s,exhaustive:o}}function lh(e,t,r,n){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=r.split(a),o=_e(n,function(d){return d.name===t}),c=s.reduce(function(d,m){var h=d&&_e(d.data,function(l){return l.name===m});return h!==void 0?h:d},o),u=c&&c.count||0,f=c&&c.exhaustive||!1,p=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:p,count:u,exhaustive:f}}var bs=Ge;function ce(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Kn=ce;ce.prototype._events=void 0;ce.prototype._maxListeners=void 0;ce.defaultMaxListeners=10;ce.prototype.setMaxListeners=function(e){if(!hh(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};ce.prototype.emit=function(e){var t,r,n,i,a,s;if(this._events||(this._events={}),e==="error"&&(!this._events.error||Gt(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(r=this._events[e],Ss(r))return!1;if(Me(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Gt(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};ce.prototype.addListener=function(e,t){var r;if(!Me(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Me(t.listener)?t.listener:t),this._events[e]?Gt(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Gt(this._events[e])&&!this._events[e].warned&&(Ss(this._maxListeners)?r=ce.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};ce.prototype.on=ce.prototype.addListener;ce.prototype.once=function(e,t){if(!Me(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this};ce.prototype.removeListener=function(e,t){var r,n,i,a;if(!Me(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||Me(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Gt(r)){for(a=i;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};ce.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],Me(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};ce.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Me(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};ce.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Me(t))return 1;if(t)return t.length}return 0};ce.listenerCount=function(e,t){return e.listenerCount(t)};function Me(e){return typeof e=="function"}function hh(e){return typeof e=="number"}function Gt(e){return typeof e=="object"&&e!==null}function Ss(e){return e===void 0}function dh(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var ws=dh,mh=Kn,gh=ws;function Qr(e,t){this.main=e,this.fn=t,this.lastResults=null}gh(Qr,mh);Qr.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};Qr.prototype.getModifiedState=function(e){return this.fn(e)};var ph=Qr,rn=Mr;function nn(e){return Object.keys(e).sort(function(t,r){return t.localeCompare(r)}).reduce(function(t,r){return t[r]=e[r],t},{})}var be={_getQueries:function(t,r){var n=[];return n.push({indexName:t,params:be._getHitsSearchParams(r)}),r.getRefinedDisjunctiveFacets().forEach(function(i){n.push({indexName:t,params:be._getDisjunctiveFacetSearchParams(r,i)})}),r.getRefinedHierarchicalFacets().forEach(function(i){var a=r.getHierarchicalFacetByName(i),s=r.getHierarchicalRefinement(i),o=r._getHierarchicalFacetSeparator(a);if(s.length>0&&s[0].split(o).length>1){var c=s[0].split(o).slice(0,-1).reduce(function(f,p,d){return f.concat({attribute:a.attributes[d],value:d===0?p:[f[f.length-1].value,p].join(o)})},[]);c.forEach(function(u,f){var p=be._getDisjunctiveFacetSearchParams(r,u.attribute,f===0);function d(l){return a.attributes.some(function(g){return g===l.split(":")[0]})}var m=(p.facetFilters||[]).reduce(function(l,g){if(Array.isArray(g)){var v=g.filter(function(b){return!d(b)});v.length>0&&l.push(v)}return typeof g=="string"&&!d(g)&&l.push(g),l},[]),h=c[f-1];f>0?p.facetFilters=m.concat(h.attribute+":"+h.value):p.facetFilters=m.length>0?m:void 0,n.push({indexName:t,params:p})})}}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(be._getHitsHierarchicalFacetsAttributes(e)),r=be._getFacetFilters(e),n=be._getNumericFilters(e),i=be._getTagFilters(e),a={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:i};return r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n),nn(rn({},e.getQueryParams(),a))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=be._getFacetFilters(e,t,r),i=be._getNumericFilters(e,t),a=be._getTagFilters(e),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var o=e.getHierarchicalFacetByName(t);return o?s.facets=be._getDisjunctiveHierarchicalFacetAttribute(e,o,r):s.facets=t,i.length>0&&(s.numericFilters=i),n.length>0&&(s.facetFilters=n),nn(rn({},e.getQueryParams(),s))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];t!==n&&s.forEach(function(o){if(Array.isArray(o)){var c=o.map(function(u){return n+a+u});r.push(c)}else r.push(n+a+o)})})}),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).forEach(function(c){var u=i[c]||[];u.forEach(function(f){n.push(c+":"+f)})});var a=e.facetsExcludes||{};Object.keys(a).forEach(function(c){var u=a[c]||[];u.forEach(function(f){n.push(c+":-"+f)})});var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).forEach(function(c){var u=s[c]||[];if(!(c===t||!u||u.length===0)){var f=[];u.forEach(function(p){f.push(c+":"+p)}),n.push(f)}});var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).forEach(function(c){var u=o[c]||[],f=u[0];if(f!==void 0){var p=e.getHierarchicalFacetByName(c),d=e._getHierarchicalFacetSeparator(p),m=e._getHierarchicalRootPath(p),h,l;if(t===c){if(f.indexOf(d)===-1||!m&&r===!0||m&&m.split(d).length===f.split(d).length)return;m?(l=m.split(d).length-1,f=m):(l=f.split(d).length-2,f=f.slice(0,f.lastIndexOf(d))),h=p.attributes[l]}else l=f.split(d).length-1,h=p.attributes[l];h&&n.push([h+":"+f])}}),n},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(n,i){var a=e.getHierarchicalRefinement(i.name)[0];if(!a)return n.push(i.attributes[0]),n;var s=e._getHierarchicalFacetSeparator(i),o=a.split(s).length,c=i.attributes.slice(0,o+1);return n.concat(c)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(r===!0){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var s=e.getHierarchicalRefinement(t.name)[0]||"",o=s.split(n).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,a={facetQuery:t,facetName:e};return typeof r=="number"&&(a.maxFacetHits=r),nn(rn({},be._getHitsSearchParams(i),a))}},vh=be,Ps="3.11.3",zn=fs,$n=bs,yh=ph,ct=vh,bh=Kn,Sh=ws,wh=Bn,Ph=qn,Rh=Mr,Rs=Ps,Oh=kn.escapeFacetValue;function j(e,t,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+Rs+")"),this.setClient(e);var n=r||{};n.index=t,this.state=zn.make(n),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}Sh(j,bh);j.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};j.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};j.prototype.getQuery=function(){var e=this.state;return ct._getHitsSearchParams(e)};j.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=ct._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),t){this.client.search(n).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new $n(r,a.results),r)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(a,null,r)});return}return this.client.search(n).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new $n(r,a.results),state:r,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})};j.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=Rh({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:Ph(ct._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(n.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(n.query,e.queryLanguages,i)};j.prototype.searchForFacetValues=function(e,t,r,n){var i=typeof this.client.searchForFacetValues=="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),o=s.isDisjunctiveFacet(e),c=ct.getSearchForFacetQuery(e,t,r,s);this._currentNbQueries++;var u=this,f;return i?f=this.client.searchForFacetValues([{indexName:s.index,params:c}]):a?f=this.client.initIndex(s.index).searchForFacetValues(c):(delete c.facetName,f=this.client.search([{type:"facet",facet:e,indexName:s.index,params:c}]).then(function(d){return d.results[0]})),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),f.then(function(d){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),d=Array.isArray(d)?d[0]:d,d.facetHits.forEach(function(m){m.escapedValue=Oh(m.value),m.isRefined=o?s.isDisjunctiveFacetRefined(e,m.escapedValue):s.isFacetRefined(e,m.escapedValue)}),d},function(p){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p})};j.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};j.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};j.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};j.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};j.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};j.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};j.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this};j.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};j.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};j.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};j.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};j.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};j.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this};j.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};j.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};j.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};j.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};j.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};j.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};j.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};j.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};j.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};j.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};j.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};j.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};j.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};j.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};j.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};j.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function Os(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}j.prototype.setCurrentPage=Os;j.prototype.setPage=Os;j.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};j.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};j.prototype.setState=function(e){return this._change({state:zn.make(e),isPageReset:!1}),this};j.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new zn(e),this};j.prototype.hasRefinements=function(e){return wh(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};j.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};j.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};j.prototype.hasTag=function(e){return this.state.isTagRefined(e)};j.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};j.prototype.getIndex=function(){return this.state.index};function $s(){return this.state.page}j.prototype.getCurrentPage=$s;j.prototype.getPage=$s;j.prototype.getTags=function(){return this.state.tagRefinements};j.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var r=this.state.getConjunctiveRefinements(e);r.forEach(function(s){t.push({value:s,type:"conjunctive"})});var n=this.state.getExcludeRefinements(e);n.forEach(function(s){t.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(s){t.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return Object.keys(a).forEach(function(s){var o=a[s];t.push({value:o,operator:s,type:"numeric"})}),t};j.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};j.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};j.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=ct._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(o){var c=o.getModifiedState(t),u=ct._getQueries(c.index,c);return r.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),a=Array.prototype.concat.apply(n,i),s=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}};j.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var n=r.results.slice();e.forEach(function(i){var a=i.state,s=i.queriesCount,o=i.helper,c=n.splice(0,s),u=o.lastResults=new $n(a,c);o.emit("result",{results:u,state:a})})}};j.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};j.prototype.containsRefinement=function(e,t,r,n){return e||t.length!==0||r.length!==0||n.length!==0};j.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};j.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))};j.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};j.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+Rs+")"),this.client=e,this)};j.prototype.getClient=function(){return this.client};j.prototype.derive=function(e){var t=new yh(this,e);return this.derivedHelpers.push(t),t};j.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};j.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var $h=j,js=$h,jh=fs,Fh=bs;function dr(e,t,r){return new js(e,t,r)}dr.version=Ps;dr.AlgoliaSearchHelper=js;dr.SearchParameters=jh;dr.SearchResults=Fh;var xe=dr;function Zt(e){return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(e)}function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?na(Object(r),!0).forEach(function(n){Fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fs(e,t,r){return t=xh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xh(e){var t=_h(e,"string");return Zt(t)==="symbol"?t:String(t)}function _h(e,t){if(Zt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ih=K({name:"configure",connector:!0});function ia(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(r,n){return ee(ee({},r),{},Fs({},n,void 0))},{}))}var Eh=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return function(n){if(!n||!La(n.searchParameters))throw new Error(Ih("The `searchParameters` option expects an object."));var i={};function a(s){return function(o){var c=ia(s.state,n),u=Ot(c,new xe.SearchParameters(o));n.searchParameters=o,s.setState(u).search()}}return{$$type:"ais.configure",init:function(o){var c=o.instantSearchInstance;t(ee(ee({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!0)},render:function(o){var c=o.instantSearchInstance;t(ee(ee({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!1)},dispose:function(o){var c=o.state;return r(),ia(c,n)},getRenderState:function(o,c){var u,f=this.getWidgetRenderState(c);return ee(ee({},o),{},{configure:ee(ee({},f),{},{widgetParams:ee(ee({},f.widgetParams),{},{searchParameters:Ot(new xe.SearchParameters((u=o.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new xe.SearchParameters(f.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var c=o.helper;return i.refine||(i.refine=a(c)),{refine:i.refine,widgetParams:n}},getWidgetSearchParameters:function(o,c){var u=c.uiState;return Ot(o,new xe.SearchParameters(ee(ee({},u.configure),n.searchParameters)))},getWidgetUiState:function(o){return ee(ee({},o),{},{configure:ee(ee({},o.configure),n.searchParameters)})}}}};const xs=Eh;function Xt(e){return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(e)}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(r),!0).forEach(function(n){Th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Th(e,t,r){return t=Ah(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ah(e){var t=Hh(e,"string");return Xt(t)==="symbol"?t:String(t)}function Hh(e,t){if(Xt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sa(e){return Wh(e)||Nh(e)||Lh(e)||Dh()}function Dh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lh(e,t){if(e){if(typeof e=="string")return jn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jn(e,t)}}function Nh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wh(e){if(Array.isArray(e))return jn(e)}function jn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oa=K({name:"configure-related-items",connector:!0});function ua(e){var t=e.attributeName,r=e.attributeValue,n=e.attributeScore;return"".concat(t,":").concat(r,"<score=").concat(n||1,">")}var Ch=function(t,r){return function(n){var i=n||{},a=i.hit,s=i.matchingPatterns,o=i.transformSearchParameters,c=o===void 0?function(d){return d}:o;if(!a)throw new Error(oa("The `hit` option is required."));if(!s)throw new Error(oa("The `matchingPatterns` option is required."));var u=Object.keys(s).reduce(function(d,m){var h=s[m],l=mt(a,m),g=h.score;return Array.isArray(l)?[].concat(sa(d),[l.map(function(v){return ua({attributeName:m,attributeValue:v,attributeScore:g})})]):typeof l=="string"?[].concat(sa(d),[ua({attributeName:m,attributeValue:l,attributeScore:g})]):d},[]),f=an({},c(new xe.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(a.objectID)],optionalFilters:u}))),p=xs(t,r);return an(an({},p({searchParameters:f})),{},{$$type:"ais.configureRelatedItems"})}};const Mh=Ch;function er(e){return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(e)}function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ca(Object(r),!0).forEach(function(n){_s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _s(e,t,r){return t=Uh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uh(e){var t=Qh(e,"string");return er(t)==="symbol"?t:String(t)}function Qh(e,t){if(er(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(er(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qh=K({name:"autocomplete",connector:!0}),Bh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,qh()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,o={};return{$$type:"ais.autocomplete",init:function(u){var f=u.instantSearchInstance;t(Re(Re({},this.getWidgetRenderState(u)),{},{instantSearchInstance:f}),!0)},render:function(u){var f=u.instantSearchInstance,p=this.getWidgetRenderState(u);p.indices.forEach(function(d){var m=d.sendEvent,h=d.hits;m("view",h)}),t(Re(Re({},p),{},{instantSearchInstance:f}),!1)},getRenderState:function(u,f){return Re(Re({},u),{},{autocomplete:this.getWidgetRenderState(f)})},getWidgetRenderState:function(u){var f=this,p=u.helper,d=u.state,m=u.scopedResults,h=u.instantSearchInstance;o.refine||(o.refine=function(g){p.setQuery(g).search()});var l=m.map(function(g){g.results.hits=s?Ln(g.results.hits):g.results.hits;var v=Wn({instantSearchInstance:h,index:g.results.index,widgetType:f.$$type});return{indexId:g.indexId,indexName:g.results.index,hits:g.results.hits,results:g.results,sendEvent:v}});return{currentRefinement:d.query||"",indices:l,refine:o.refine,widgetParams:n}},getWidgetUiState:function(u,f){var p=f.searchParameters,d=p.query||"";return d===""||u&&u.query===d?u:Re(Re({},u),{},{query:d})},getWidgetSearchParameters:function(u,f){var p=f.uiState,d={query:p.query||""};return s?u.setQueryParameters(Re(Re({},d),He)):u.setQueryParameters(d)},dispose:function(u){var f=u.state;r();var p=f.setQueryParameter("query",void 0);return s?p.setQueryParameters(Object.keys(He).reduce(function(d,m){return Re(Re({},d),{},_s({},m,void 0))},{})):p}}}};const Vh=Bh;function tr(e){return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fa(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kh(e,t,r){return t=Kh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kh(e){var t=zh(e,"string");return tr(t)==="symbol"?t:String(t)}function zh(e,t){if(tr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e){return Zh(e)||Gh(e)||Yh(e)||Jh()}function Jh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yh(e,t){if(e){if(typeof e=="string")return Fn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fn(e,t)}}function Gh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zh(e){if(Array.isArray(e))return Fn(e)}function Fn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var la=K({name:"query-rules",connector:!0});function Xh(e){return[e.disjunctiveFacetsRefinements,e.facetsRefinements,e.hierarchicalFacetsRefinements,e.numericRefinements].some(function(t){return Boolean(t&&Object.keys(t).length>0)})}function ed(e){return e.replace(/[^a-z0-9-_]+/gi,"_")}function td(e){var t=e.helper,r=e.sharedHelperState,n=e.trackedFilters,i=Object.keys(n).reduce(function(a,s){var o=Cn(t.lastResults||{},r,!0).filter(function(f){return f.attribute===s}).map(function(f){return f.numericValue||f.name}),c=n[s],u=c(o);return[].concat(Hr(a),Hr(o.filter(function(f){return u.includes(f)}).map(function(f){return ed("ais-".concat(s,"-").concat(f))})))},[]);return i}function rd(e){var t=this.helper,r=this.initialRuleContexts,n=this.trackedFilters,i=this.transformRuleContexts,a=e.state,s=a.ruleContexts||[],o=td({helper:t,sharedHelperState:a,trackedFilters:n}),c=[].concat(Hr(r),Hr(o)),u=i(c).slice(0,10);hr(s,u)||t.overrideStateWithoutTriggeringChangeEvent(Ke(Ke({},a),{},{ruleContexts:u}))}var nd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,la()),function(n){var i=n||{},a=i.trackedFilters,s=a===void 0?{}:a,o=i.transformRuleContexts,c=o===void 0?function(h){return h}:o,u=i.transformItems,f=u===void 0?function(h){return h}:u;Object.keys(s).forEach(function(h){if(typeof s[h]!="function")throw new Error(la(`'The "`.concat(h,'" filter value in the `trackedFilters` option expects a function.')))});var p=Object.keys(s).length>0,d=[],m;return{$$type:"ais.queryRules",init:function(l){var g=l.helper,v=l.state,b=l.instantSearchInstance;d=v.ruleContexts||[],m=rd.bind({helper:g,initialRuleContexts:d,trackedFilters:s,transformRuleContexts:c}),p&&((Xh(v)||Boolean(n.transformRuleContexts))&&m({state:v}),g.on("change",m)),t(Ke(Ke({},this.getWidgetRenderState(l)),{},{instantSearchInstance:b}),!0)},render:function(l){var g=l.instantSearchInstance;t(Ke(Ke({},this.getWidgetRenderState(l)),{},{instantSearchInstance:g}),!1)},getWidgetRenderState:function(l){var g=l.results,v=g||{},b=v.userData,y=b===void 0?[]:b,S=f(y,{results:g});return{items:S,widgetParams:n}},getRenderState:function(l,g){return Ke(Ke({},l),{},{queryRules:this.getWidgetRenderState(g)})},dispose:function(l){var g=l.helper,v=l.state;return r(),p?(g.removeListener("change",m),v.setQueryParameter("ruleContexts",d)):v}}}};const Is=nd;function rr(e){return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(e)}function ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ha(Object(r),!0).forEach(function(n){id(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function id(e,t,r){return t=ad(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ad(e){var t=sd(e,"string");return rr(t)==="symbol"?t:String(t)}function sd(e,t){if(rr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var od=function(t){var r=t.searchAsYouSpeak,n=t.language,i=t.onQueryChange,a=t.onStateChange,s=window.webkitSpeechRecognition||window.SpeechRecognition,o=function(R){return{status:R,transcript:"",isSpeechFinal:!1,errorCode:void 0}},c=o("initial"),u,f=function(){return Boolean(s)},p=function(){return c.status==="askingPermission"||c.status==="waiting"||c.status==="recognizing"},d=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c=da(da({},c),R),a()},m=function(){return c},h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";d(o(R))},l=function(){d({status:"waiting"})},g=function(R){d({status:"error",errorCode:R.error})},v=function(R){d({status:"recognizing",transcript:R.results[0]&&R.results[0][0]&&R.results[0][0].transcript||"",isSpeechFinal:R.results[0]&&R.results[0].isFinal}),r&&c.transcript&&i(c.transcript)},b=function(){!c.errorCode&&c.transcript&&!r&&i(c.transcript),c.status!=="error"&&d({status:"finished"})},y=function(){u=new s,u&&(h("askingPermission"),u.interimResults=!0,n&&(u.lang=n),u.addEventListener("start",l),u.addEventListener("error",g),u.addEventListener("result",v),u.addEventListener("end",b),u.start())},S=function(){u&&(u.stop(),u.removeEventListener("start",l),u.removeEventListener("error",g),u.removeEventListener("result",v),u.removeEventListener("end",b),u=void 0)},P=function(){S(),h("finished")};return{getState:m,isBrowserSupported:f,isListening:p,startListening:y,stopListening:P,dispose:S}};const ud=od;function nr(e){return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(e)}function ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ma(Object(r),!0).forEach(function(n){cd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cd(e,t,r){return t=fd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fd(e){var t=ld(e,"string");return nr(t)==="symbol"?t:String(t)}function ld(e,t){if(nr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hd=K({name:"voice-search",connector:!0}),dd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,hd()),function(n){var i=n.searchAsYouSpeak,a=i===void 0?!1:i,s=n.language,o=n.additionalQueryParameters,c=n.createVoiceSearchHelper,u=c===void 0?ud:c;return{$$type:"ais.voiceSearch",init:function(p){var d=p.instantSearchInstance;t(Oe(Oe({},this.getWidgetRenderState(p)),{},{instantSearchInstance:d}),!0)},render:function(p){var d=p.instantSearchInstance;t(Oe(Oe({},this.getWidgetRenderState(p)),{},{instantSearchInstance:d}),!1)},getRenderState:function(p,d){return Oe(Oe({},p),{},{voiceSearch:this.getWidgetRenderState(d)})},getWidgetRenderState:function(p){var d=this,m=p.helper,h=p.instantSearchInstance;this._refine||(this._refine=function(P){if(P!==m.state.query){var w=s?[s.split("-")[0]]:void 0;m.setQueryParameter("queryLanguages",w),typeof o=="function"&&m.setState(m.state.setQueryParameters(Oe({ignorePlurals:!0,removeStopWords:!0,optionalWords:P},o({query:P})))),m.setQuery(P).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=u({searchAsYouSpeak:a,language:s,onQueryChange:function(w){return d._refine(w)},onStateChange:function(){t(Oe(Oe({},d.getWidgetRenderState(p)),{},{instantSearchInstance:h}),!1)}}));var l=this._voiceSearchHelper,g=l.isBrowserSupported,v=l.isListening,b=l.startListening,y=l.stopListening,S=l.getState;return{isBrowserSupported:g(),isListening:v(),toggleListening:function(){g()&&(v()?y():b())},voiceListeningState:S(),widgetParams:n}},dispose:function(p){var d=p.state;this._voiceSearchHelper.dispose(),r();var m=d;if(typeof o=="function"){var h=o({query:""}),l=h?Object.keys(h).reduce(function(g,v){return g[v]=void 0,g},{}):{};m=d.setQueryParameters(Oe({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},l))}return m.setQueryParameter("query",void 0)},getWidgetUiState:function(p,d){var m=d.searchParameters,h=m.query||"";return h?Oe(Oe({},p),{},{query:h}):p},getWidgetSearchParameters:function(p,d){var m=d.uiState;return p.setQueryParameter("query",m.query||"")}}}};const md=dd;function ir(e){return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}function ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ga(Object(r),!0).forEach(function(n){gd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gd(e,t,r){return t=pd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pd(e){var t=vd(e,"string");return ir(t)==="symbol"?t:String(t)}function vd(e,t){if(ir(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ir(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yd=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return function(n){var i={};return{$$type:"ais.relevantSort",init:function(s){var o=s.instantSearchInstance;t(ke(ke({},this.getWidgetRenderState(s)),{},{instantSearchInstance:o}),!0)},render:function(s){var o=s.instantSearchInstance;t(ke(ke({},this.getWidgetRenderState(s)),{},{instantSearchInstance:o}),!1)},dispose:function(s){var o=s.state;return r(),o.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(s,o){return ke(ke({},s),{},{relevantSort:this.getWidgetRenderState(o)})},getWidgetRenderState:function(s){var o=s.results,c=s.helper;i.refine||(i.refine=function(d){c.setQueryParameter("relevancyStrictness",d).search()});var u=o||{},f=u.appliedRelevancyStrictness,p=f!==void 0;return{isRelevantSorted:typeof f<"u"&&f>0,isVirtualReplica:p,canRefine:p,refine:i.refine,widgetParams:n}},getWidgetSearchParameters:function(s,o){var c,u=o.uiState;return s.setQueryParameter("relevancyStrictness",(c=u.relevantSort)!==null&&c!==void 0?c:s.relevancyStrictness)},getWidgetUiState:function(s,o){var c=o.searchParameters;return ke(ke({},s),{},{relevantSort:c.relevancyStrictness||s.relevantSort})}}}};const bd=yd;function pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pa(Object(r),!0).forEach(function(n){Sd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sd(e,t,r){return t=wd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wd(e){var t=Pd(e,"string");return ft(t)==="symbol"?t:String(t)}function Pd(e,t){if(ft(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ft(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ft(e){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(e)}var br=K({name:"dynamic-widgets",connector:!0}),Rd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return Y(t,br()),function(n){var i=n.widgets,a=n.maxValuesPerFacet,s=a===void 0?20:a,o=n.facets,c=o===void 0?["*"]:o,u=n.transformItems,f=u===void 0?function(m){return m}:u,p=n.fallbackWidget;if(!(i&&Array.isArray(i)&&i.every(function(m){return ft(m)==="object"})))throw new Error(br("The `widgets` option expects an array of widgets."));if(!(Array.isArray(c)&&c.length<=1&&(c[0]==="*"||c[0]===void 0)))throw new Error(br('The `facets` option only accepts [] or ["*"], you passed '.concat(JSON.stringify(c))));var d=new Map;return{$$type:"ais.dynamicWidgets",init:function(h){i.forEach(function(l){var g=No(l,h);d.set(g,{widget:l,isMounted:!1})}),t(ot(ot({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var l=h.parent,g=this.getWidgetRenderState(h),v=[],b=[];p&&g.attributesToRender.forEach(function(y){if(!d.has(y)){var S=p({attribute:y});d.set(y,{widget:S,isMounted:!1})}}),d.forEach(function(y,S){var P=y.widget,w=y.isMounted,R=g.attributesToRender.indexOf(S)>-1;!w&&R?(b.push(P),d.set(S,{widget:P,isMounted:!0})):w&&!R&&(v.push(P),d.set(S,{widget:P,isMounted:!1}))}),l.addWidgets(b),setTimeout(function(){return l.removeWidgets(v)},0),t(ot(ot({},g),{},{instantSearchInstance:h.instantSearchInstance}),!1)},dispose:function(h){var l=h.parent,g=[];d.forEach(function(v){var b=v.widget,y=v.isMounted;y&&g.push(b)}),l.removeWidgets(g),r()},getWidgetSearchParameters:function(h){return c.reduce(function(l,g){return l.addFacet(g)},h.setQueryParameters({maxValuesPerFacet:Math.max(s||0,h.maxValuesPerFacet||0)}))},getRenderState:function(h,l){return ot(ot({},h),{},{dynamicWidgets:this.getWidgetRenderState(l)})},getWidgetRenderState:function(h){var l,g,v,b,y=h.results;if(h.state,!y)return{attributesToRender:[],widgetParams:n};var S=f((l=(g=y.renderingContent)===null||g===void 0||(v=g.facetOrdering)===null||v===void 0||(b=v.facets)===null||b===void 0?void 0:b.order)!==null&&l!==void 0?l:[],{results:y});if(!Array.isArray(S))throw new Error(br("The `transformItems` option expects a function that returns an Array."));return{attributesToRender:S,widgetParams:n}}}}};const Od=Rd;B({connector:Vh},{$$widgetType:"ais.autocomplete"}),M({name:"Autocomplete"});E("p",null," This widget doesn't render anything without a filled in default slot. ",-1);E("p",null,"query, function to refine and results are provided.",-1);E("pre",null,"refine: Function",-1);E("summary",null,[E("code",null,"indices"),Ie(":")],-1);function $d(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n&&n.push(r)||e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&n.splice(n.indexOf(r)>>>0,1)},emit:function(t,r){(e.get(t)||[]).slice().map(function(n){n(r)}),(e.get("*")||[]).slice().map(function(n){n(t,r)})}}}var jd=function(){var e;return(e={props:{emitter:{type:Object,required:!1,default:function(){return $d()}}},provide:function(){var t;return(t={}).instantSearchPanelEmitter=this.emitter,t},data:function(){return{canRefine:!0}},created:function(){var t=this;this.emitter.on("PANEL_CHANGE_EVENT",function(r){t.updateCanRefine(r)})}}).beforeUnmount=function(){this.emitter.all.clear()},e.methods={updateCanRefine:function(t){this.canRefine=t}},e},ge=function(e){e===void 0&&(e={});var t=e.mapStateToCanRefine;return t===void 0&&(t=function(r){return Boolean(r.canRefine)}),{inject:{emitter:{from:"instantSearchPanelEmitter",default:function(){return{emit:function(){}}}}},data:function(){return{state:null,hasAlreadyEmitted:!1}},watch:{state:{immediate:!0,handler:function(r,n){if(r){var i=t(n||{}),a=t(r);this.hasAlreadyEmitted&&i===a||(this.emitter.emit("PANEL_CHANGE_EVENT",a),this.hasAlreadyEmitted=!0)}}}}}};B({connector:$l},{$$widgetType:"ais.breadcrumb"}),ge(),M({name:"Breadcrumb"});Ie("Home");Ie("Home");Ie(">");B({connector:ju},{$$widgetType:"ais.clearRefinements"}),ge(),M({name:"ClearRefinements"});Ie(" Clear refinements ");M({name:"Configure"}),B({connector:xs},{$$widgetType:"ais.configure"}),fr(function(e){var t=this.$slots.default;return this.state&&t?e("div",{class:this.suit()},[t({refine:this.state.refine,searchParameters:this.state.widgetParams.searchParameters})]):null});B({connector:Mh},{$$widgetType:"ais.configureRelatedItems"});M({name:"CurrentRefinements"}),B({connector:Cu},{$$widgetType:"ais.currentRefinements"}),ge();const Es={name:"HierarchicalMenuList",props:{items:{type:Array,required:!0},level:{type:Number,required:!0},refine:{type:Function,required:!0},createURL:{type:Function,required:!0},suit:{type:Function,required:!0}}};function Fd(e,t,r,n,i,a){var s=Hn("hierarchical-menu-list",!0);return r.items.length>0?(G(),te("ul",{key:0,class:[r.suit("list"),r.level>0&&r.suit("list","child"),r.suit("list","lvl"+r.level)]},[(G(!0),te(Wr,null,Dn(r.items,function(o){return G(),te("li",{key:o.value,class:[r.suit("item"),o.data&&o.data.length>0&&r.suit("item","parent"),o.isRefined&&r.suit("item","selected")]},[E("a",{href:r.createURL(o.value),class:[r.suit("link"),o.isRefined&&r.suit("link","selected")],onClick:fn(function(c){return r.refine(o.value)},["prevent"])},[E("span",{class:r.suit("label")},We(o.label),3),E("span",{class:r.suit("count")},We(o.count),3)],10,["href","onClick"]),o.data?(G(),te(s,{key:0,items:o.data,level:r.level+1,refine:r.refine,createURL:r.createURL,suit:r.suit},null,8,["items","level","refine","createURL","suit"])):Ce("",!0)],2)}),128))],2)):Ce("",!0)}Es.render=Fd;M({name:"HierarchicalMenu"}),B({connector:Gu},{$$widgetType:"ais.hierarchicalMenu"}),ge();var xd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ts=/&(?:amp|lt|gt|quot|#39);/g,_d=RegExp(Ts.source);function va(e){return e&&_d.test(e)?e.replace(Ts,function(t){return xd[t]}):e}var ya={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"};function ba(e){var t=e.preTag,r=e.postTag,n=e.highlightedValue;n===void 0&&(n="");var i=n.split(t),a=i.shift(),s=a===""?[]:[{value:a,isHighlighted:!1}];if(r===t){var o=!0;i.forEach(function(c){s.push({value:c,isHighlighted:o}),o=!o})}else i.forEach(function(c){var u=c.split(r);s.push({value:u[0],isHighlighted:!0}),u[1]!==""&&s.push({value:u[1]===" "?"  ":u[1],isHighlighted:!1})});return s}function Id(e){var t=e.preTag;t===void 0&&(t=ya.highlightPreTag);var r=e.postTag;r===void 0&&(r=ya.highlightPostTag);var n=e.highlightProperty,i=e.attribute,a=e.hit;if(!a)throw new Error("`hit`, the matching record, must be provided");var s=mt(a[n],i)||{};return Array.isArray(s)?s.map(function(o){return ba({preTag:t,postTag:r,highlightedValue:va(o.value)})}):ba({preTag:t,postTag:r,highlightedValue:va(s.value)})}var Ed=function(e,t){return t.slots.default()};const Jn={name:"AisHighlighter",props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"},suit:{type:Function,required:!0},highlightProperty:{type:String,required:!0},preTag:{type:String,required:!0},postTag:{type:String,required:!0}},data:function(){return{TextNode:Ed}},computed:{parsedHighlights:function(){return Id({attribute:this.attribute,hit:this.hit,highlightProperty:this.highlightProperty,preTag:this.preTag,postTag:this.postTag})}}};function Td(e,t,r,n,i,a){return G(),te("span",{class:r.suit()},[(G(!0),te(Wr,null,Dn(a.parsedHighlights,function(s,o){var c=s.value,u=s.isHighlighted;return G(),te(no(u?r.highlightedTagName:i.TextNode),{class:[u&&r.suit("highlighted")],key:o},{default:Je(function(){return[Ie(We(c),1)]}),_:2},1032,["class"])}),128))],2)}Jn.render=Td;const Dr={name:"AisHighlight",mixins:[M({name:"Highlight"})],components:{AisHighlighter:Jn},props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"}}};function Ad(e,t,r,n,i,a){var s=Hn("ais-highlighter");return G(),te(s,{hit:r.hit,attribute:r.attribute,"highlighted-tag-name":r.highlightedTagName,suit:e.suit,"highlight-property":"_highlightResult","pre-tag":"<mark>","post-tag":"</mark>"},null,8,["hit","attribute","highlighted-tag-name","suit"])}Dr.render=Ad;const As={name:"AisHits",mixins:[B({connector:dc},{$$widgetType:"ais.hits"}),M({name:"Hits"})],props:{escapeHTML:{type:Boolean,default:!0},transformItems:{type:Function,default:void 0}},computed:{items:function(){return this.state.hits},widgetParams:function(){return{escapeHTML:this.escapeHTML,transformItems:this.transformItems}}}};function Hd(e,t,r,n,i,a){return e.state?(G(),te("div",{key:0,class:e.suit()},[Se(e.$slots,"default",{items:a.items,insights:e.state.insights,sendEvent:e.state.sendEvent},function(){return[E("ol",{class:e.suit("list")},[(G(!0),te(Wr,null,Dn(a.items,function(s,o){return G(),te("li",{key:s.objectID,class:e.suit("item")},[Se(e.$slots,"item",{item:s,index:o,insights:e.state.insights},function(){return[Ie(" objectID: "+We(s.objectID)+", index: "+We(o),1)]})],2)}),128))],2)]})],2)):Ce("",!0)}As.render=Hd;M({name:"HitsPerPage"}),B({connector:Rc},{$$widgetType:"ais.hitsPerPage"}),ge();function ar(e){return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(e)}var Dd=["initialSearchParameters"];function Sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sa(Object(r),!0).forEach(function(n){Lr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lr(e,t,r){return t=Ld(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ld(e){var t=Nd(e,"string");return ar(t)==="symbol"?t:String(t)}function Nd(e,t){if(ar(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ar(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hs(e){return Ud(e)||Md(e)||Cd(e)||Wd()}function Wd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cd(e,t){if(e){if(typeof e=="string")return xn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xn(e,t)}}function Md(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ud(e){if(Array.isArray(e))return xn(e)}function xn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qd(e,t){if(e==null)return{};var r=qd(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qd(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var yt=K({name:"index-widget"});function Ds(e,t){var r=t.state,n=t.isPageReset,i=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:i}))}function Sr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(n,i){return dt(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,t):i.getWidgetState(n,t)},r)}function wr(e,t){var r=t.initialSearchParameters,n=Qd(t,Dd);return e.filter(function(i){return!dt(i)}).reduce(function(i,a){return a.getWidgetSearchParameters?a.getWidgetSearchParameters(i,n):i},r)}function Ls(e){var t=e.filter(dt);t.length!==0&&t.forEach(function(r){var n=r.getHelper();Ds(n,{state:n.state.resetPage(),isPageReset:!0}),Ls(r.getWidgets())})}function Ns(e){var t=e.filter(dt);return t.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(Hs(Ns(n.getWidgets()))))},[])}var Bd=function(t){if(t===void 0||t.indexName===void 0)throw new Error(yt("The `indexName` option is required."));var r=t.indexName,n=t.indexId,i=n===void 0?r:n,a=[],s={},o=null,c=null,u=null,f=null,p=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var m;return(m=f)!==null&&m!==void 0&&m.lastResults?(f.lastResults._state=u.state,f.lastResults):null},getPreviousState:function(){return p},getScopedResults:function(){var m=this.getParent(),h=m?m.getWidgets():[this];return Ns(h)},getParent:function(){return c},createURL:function(m){return o._createURL(Lr({},i,Sr(a,{searchParameters:m,helper:u})))},getWidgets:function(){return a},addWidgets:function(m){var h=this;if(!Array.isArray(m))throw new Error(yt("The `addWidgets` method expects an array of widgets."));if(m.some(function(l){return typeof l.init!="function"&&typeof l.render!="function"}))throw new Error(yt("The widget definition expects a `render` and/or an `init` method."));return a=a.concat(m),o&&Boolean(m.length)&&(Ds(u,{state:wr(a,{uiState:s,initialSearchParameters:u.state}),_uiState:s}),m.forEach(function(l){if(l.getRenderState){var g=l.getRenderState(o.renderState[h.getIndexId()]||{},St(o,h,o._initialUiState));sn({renderState:g,instantSearchInstance:o,parent:h})}}),m.forEach(function(l){l.init&&l.init(St(o,h,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(m){var h=this;if(!Array.isArray(m))throw new Error(yt("The `removeWidgets` method expects an array of widgets."));if(m.some(function(g){return typeof g.dispose!="function"}))throw new Error(yt("The widget definition expects a `dispose` method."));if(a=a.filter(function(g){return m.indexOf(g)===-1}),o&&Boolean(m.length)){var l=m.reduce(function(g,v){var b=v.dispose({helper:u,state:g,parent:h});return b||g},u.state);s=Sr(a,{searchParameters:l,helper:u}),u.setState(wr(a,{uiState:s,initialSearchParameters:l})),a.length&&o.scheduleSearch()}return this},init:function(m){var h=this,l,g=m.instantSearchInstance,v=m.parent,b=m.uiState;if(u===null){o=g,c=v,s=b[i]||{};var y=g.mainHelper,S=wr(a,{uiState:s,initialSearchParameters:new xe.SearchParameters({index:r})});u=xe({},S.index,S),u.search=function(){return g.onStateChange?(g.onStateChange({uiState:g.mainIndex.getWidgetUiState({}),setUiState:function(O){return g.setUiState(O,!1)}}),y):y.search()},u.searchWithoutTriggeringOnStateChange=function(){return y.search()},u.searchForFacetValues=function(R,O,$,x){var A=u.state.setQueryParameters(x);return y.searchForFacetValues(R,O,$,A)},f=y.derive(function(){return Ot.apply(void 0,Hs(hu(h)))});var P=(l=g._initialResults)===null||l===void 0?void 0:l[this.getIndexId()];if(P){var w=new xe.SearchResults(new xe.SearchParameters(P.state),P.results);f.lastResults=w,u.lastResults=w}u.on("change",function(R){var O=R.isPageReset;O&&Ls(a)}),f.on("search",function(){g.scheduleStalledRender()}),f.on("result",function(R){var O=R.results;g.scheduleRender(),u.lastResults=O,p=O._state}),a.forEach(function(R){if(R.getRenderState){var O=R.getRenderState(g.renderState[h.getIndexId()]||{},St(g,h,b));sn({renderState:O,instantSearchInstance:g,parent:h})}}),a.forEach(function(R){R.init&&R.init(St(g,h,b))}),u.on("change",function(R){var O=R.state,$=R._uiState;s=Sr(a,{searchParameters:O,helper:u},$||{}),g.onStateChange||g.onInternalStateChange()}),P&&g.scheduleRender()}},render:function(m){var h=this,l=m.instantSearchInstance;this.getResults()&&(l.status==="error"&&!l.mainHelper.hasPendingRequests()&&u.setState(p),a.forEach(function(g){if(g.getRenderState){var v=g.getRenderState(l.renderState[h.getIndexId()]||{},ci(l,h));sn({renderState:v,instantSearchInstance:l,parent:h})}}),a.forEach(function(g){g.render&&g.render(ci(l,h))}))},dispose:function(){var m=this;a.forEach(function(h){h.dispose&&h.dispose({helper:u,state:u.state,parent:m})}),o=null,c=null,u.removeAllListeners(),u=null,f.detach(),f=null},getWidgetUiState:function(m){return a.filter(dt).reduce(function(h,l){return l.getWidgetUiState(h)},Ye(Ye({},m),{},Lr({},i,Ye(Ye({},m[i]),s))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,h){var l=h.uiState;return wr(a,{uiState:l,initialSearchParameters:m})},refreshUiState:function(){s=Sr(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)}}};const Ws=Bd;function sn(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=Ye(Ye({},r.renderState),{},Lr({},i,Ye(Ye({},r.renderState[i]),t)))}M({name:"Index"}),B({connector:function(){return Ws}},{$$widgetType:"ais.index"}),fr(function(e){return e("div",{},Cr(this))});const Cs="4.51.1";var Vd="ais",qr=function(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(Vd,"-").concat(t).concat(a).concat(s)}},kd=qr("Highlight");function Ms(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=mt(i._highlightResult,t),c=o||{},u=c.value,f=u===void 0?"":u,p=kd({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return f.replace(new RegExp(ue.highlightPreTag,"g"),"<".concat(n,' class="').concat(p,'">')).replace(new RegExp(ue.highlightPostTag,"g"),"</".concat(n,">"))}var Kd=qr("ReverseHighlight");function Us(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=mt(i._highlightResult,t),c=o||{},u=c.value,f=u===void 0?"":u,p=Kd({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),d=Ca(ka(qa(f)));return d.replace(new RegExp(ue.highlightPreTag,"g"),"<".concat(n,' class="').concat(p,'">')).replace(new RegExp(ue.highlightPostTag,"g"),"</".concat(n,">"))}var zd=qr("Snippet");function Qs(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=mt(i._snippetResult,t),c=o||{},u=c.value,f=u===void 0?"":u,p=zd({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return f.replace(new RegExp(ue.highlightPreTag,"g"),"<".concat(n,' class="').concat(p,'">')).replace(new RegExp(ue.highlightPostTag,"g"),"</".concat(n,">"))}var Jd=qr("ReverseSnippet");function qs(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=mt(i._snippetResult,t),c=o||{},u=c.value,f=u===void 0?"":u,p=Jd({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),d=Ca(ka(qa(f)));return d.replace(new RegExp(ue.highlightPreTag,"g"),"<".concat(n,' class="').concat(p,'">')).replace(new RegExp(ue.highlightPostTag,"g"),"</".concat(n,">"))}function _n(e){return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var Yd="_ALGOLIA";function Gd(e){if(!((typeof document>"u"?"undefined":_n(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function Zd(){return Gd(Yd)}function Xd(){return Zd()}function em(e,t){return e.toLocaleString(t)}function sr(e){return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(e)}function wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wa(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tm(e,t,r){return t=rm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rm(e){var t=nm(e,"string");return sr(t)==="symbol"?t:String(t)}function nm(e,t){if(sr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(e){var t=e.numberLocale;return{formatNumber:function(n,i){return em(Number(i(n)),t)},highlight:function(n,i){try{var a=JSON.parse(n);return i(Ms(Le(Le({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(Us(Le(Le({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(Qs(Le(Le({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(qs(Le(Le({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,o=a.payload;return i(Ga(s,Le({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}function or(e){return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(e)}var am=["configure"];function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pa(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function In(e,t,r){return t=sm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sm(e){var t=om(e,"string");return or(t)==="symbol"?t:String(t)}function om(e,t){if(or(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(or(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function um(e,t){if(e==null)return{};var r=cm(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cm(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ra(e){e.configure;var t=um(e,am);return t}function fm(){return{stateToRoute:function(t){return Object.keys(t).reduce(function(r,n){return Pr(Pr({},r),{},In({},n,Ra(t[n])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(r,n){return Pr(Pr({},r),{},In({},n,Ra(t[n])))},{})}}}var lm=String.prototype.replace,hm=/%20/g,on={RFC1738:"RFC1738",RFC3986:"RFC3986"},Yn={default:on.RFC3986,formatters:{RFC1738:function(e){return lm.call(e,hm,"+")},RFC3986:function(e){return String(e)}},RFC1738:on.RFC1738,RFC3986:on.RFC3986},dm=Yn,un=Object.prototype.hasOwnProperty,Xe=Array.isArray,Ae=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),mm=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(Xe(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Bs=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},gm=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(Xe(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!un.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return Xe(t)&&!Xe(r)&&(i=Bs(t,n)),Xe(t)&&Xe(r)?(r.forEach(function(a,s){if(un.call(t,s)){var o=t[s];o&&typeof o=="object"&&a&&typeof a=="object"?t[s]=e(o,a,n):t.push(a)}else t[s]=a}),t):Object.keys(r).reduce(function(a,s){var o=r[s];return un.call(a,s)?a[s]=e(a[s],o,n):a[s]=o,a},i)},pm=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},vm=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ym=function(t,r,n,i,a){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var o="",c=0;c<s.length;++c){var u=s.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||a===dm.RFC1738&&(u===40||u===41)){o+=s.charAt(c);continue}if(u<128){o=o+Ae[u];continue}if(u<2048){o=o+(Ae[192|u>>6]+Ae[128|u&63]);continue}if(u<55296||u>=57344){o=o+(Ae[224|u>>12]+Ae[128|u>>6&63]+Ae[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|s.charCodeAt(c)&1023),o+=Ae[240|u>>18]+Ae[128|u>>12&63]+Ae[128|u>>6&63]+Ae[128|u&63]}return o},bm=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],o=Object.keys(s),c=0;c<o.length;++c){var u=o[c],f=s[u];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:s,prop:u}),n.push(f))}return mm(r),t},Sm=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},wm=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Pm=function(t,r){return[].concat(t,r)},Rm=function(t,r){if(Xe(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},Vs={arrayToObject:Bs,assign:pm,combine:Pm,compact:bm,decode:vm,encode:ym,isBuffer:wm,isRegExp:Sm,maybeMap:Rm,merge:gm},En=Vs,$t=Yn,Om=Object.prototype.hasOwnProperty,Oa={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},et=Array.isArray,$m=String.prototype.split,jm=Array.prototype.push,ks=function(e,t){jm.apply(e,et(t)?t:[t])},Fm=Date.prototype.toISOString,$a=$t.default,ne={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:En.encode,encodeValuesOnly:!1,format:$a,formatter:$t.formatters[$a],indices:!1,serializeDate:function(t){return Fm.call(t)},skipNulls:!1,strictNullHandling:!1},xm=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},_m=function e(t,r,n,i,a,s,o,c,u,f,p,d,m,h){var l=t;if(typeof o=="function"?l=o(r,l):l instanceof Date?l=f(l):n==="comma"&&et(l)&&(l=En.maybeMap(l,function(A){return A instanceof Date?f(A):A})),l===null){if(i)return s&&!m?s(r,ne.encoder,h,"key",p):r;l=""}if(xm(l)||En.isBuffer(l)){if(s){var g=m?r:s(r,ne.encoder,h,"key",p);if(n==="comma"&&m){for(var v=$m.call(String(l),","),b="",y=0;y<v.length;++y)b+=(y===0?"":",")+d(s(v[y],ne.encoder,h,"value",p));return[d(g)+"="+b]}return[d(g)+"="+d(s(l,ne.encoder,h,"value",p))]}return[d(r)+"="+d(String(l))]}var S=[];if(typeof l>"u")return S;var P;if(n==="comma"&&et(l))P=[{value:l.length>0?l.join(",")||null:void 0}];else if(et(o))P=o;else{var w=Object.keys(l);P=c?w.sort(c):w}for(var R=0;R<P.length;++R){var O=P[R],$=typeof O=="object"&&typeof O.value<"u"?O.value:l[O];if(!(a&&$===null)){var x=et(l)?typeof n=="function"?n(r,O):r:r+(u?"."+O:"["+O+"]");ks(S,e($,x,n,i,a,s,o,c,u,f,p,d,m,h))}}return S},Im=function(t){if(!t)return ne;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||ne.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=$t.default;if(typeof t.format<"u"){if(!Om.call($t.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=$t.formatters[n],a=ne.filter;return(typeof t.filter=="function"||et(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ne.addQueryPrefix,allowDots:typeof t.allowDots>"u"?ne.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ne.charsetSentinel,delimiter:typeof t.delimiter>"u"?ne.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ne.encode,encoder:typeof t.encoder=="function"?t.encoder:ne.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ne.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ne.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ne.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ne.strictNullHandling}},Em=function(e,t){var r=e,n=Im(t),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):et(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var o;t&&t.arrayFormat in Oa?o=t.arrayFormat:t&&"indices"in t?o=t.indices?"indices":"repeat":o="indices";var c=Oa[o];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||ks(s,_m(r[f],f,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var p=s.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),p.length>0?d+p:""},lt=Vs,Tn=Object.prototype.hasOwnProperty,Tm=Array.isArray,re={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:lt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Am=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Ks=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Hm="utf8=%26%2310003%3B",Dm="utf8=%E2%9C%93",Lm=function(t,r){var n={},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),o=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===Dm?u="utf-8":s[c]===Hm&&(u="iso-8859-1"),o=c,c=s.length);for(c=0;c<s.length;++c)if(c!==o){var f=s[c],p=f.indexOf("]="),d=p===-1?f.indexOf("="):p+1,m,h;d===-1?(m=r.decoder(f,re.decoder,u,"key"),h=r.strictNullHandling?null:""):(m=r.decoder(f.slice(0,d),re.decoder,u,"key"),h=lt.maybeMap(Ks(f.slice(d+1),r),function(l){return r.decoder(l,re.decoder,u,"value")})),h&&r.interpretNumericEntities&&u==="iso-8859-1"&&(h=Am(h)),f.indexOf("[]=")>-1&&(h=Tm(h)?[h]:h),Tn.call(n,m)?n[m]=lt.combine(n[m],h):n[m]=h}return n},Nm=function(e,t,r,n){for(var i=n?t:Ks(t,r),a=e.length-1;a>=0;--a){var s,o=e[a];if(o==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var c=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(c,10);!r.parseArrays&&c===""?s={0:i}:!isNaN(u)&&o!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[],s[u]=i):c!=="__proto__"&&(s[c]=i)}i=s}return i},Wm=function(t,r,n,i){if(t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=n.depth>0&&s.exec(a),u=c?a.slice(0,c.index):a,f=[];if(u){if(!n.plainObjects&&Tn.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var p=0;n.depth>0&&(c=o.exec(a))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Tn.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}return c&&f.push("["+a.slice(c.index)+"]"),Nm(f,r,n,i)}},Cm=function(t){if(!t)return re;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?re.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?re.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:re.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:re.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:re.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:re.comma,decoder:typeof t.decoder=="function"?t.decoder:re.decoder,delimiter:typeof t.delimiter=="string"||lt.isRegExp(t.delimiter)?t.delimiter:re.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:re.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:re.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:re.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:re.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:re.strictNullHandling}},Mm=function(e,t){var r=Cm(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?Lm(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var o=a[s],c=Wm(o,n[o],r,typeof e=="string");i=lt.merge(i,c,r)}return lt.compact(i)},Um=Em,Qm=Mm,qm=Yn,ja={formats:qm,parse:Qm,stringify:Um};function ur(e){return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(e)}function Bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zs(n.key),n)}}function Vm(e,t,r){return t&&Fa(e.prototype,t),r&&Fa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $e(e,t,r){return t=zs(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zs(e){var t=km(e,"string");return ur(t)==="symbol"?t:String(t)}function km(e,t){if(ur(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ur(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xa=function(t){t&&(window.document.title=t)},Km=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,a=i===void 0?400:i,s=t.createURL,o=t.parseURL,c=t.getLocation,u=t.start,f=t.dispose,p=t.push;Bm(this,e),$e(this,"windowTitle",void 0),$e(this,"writeDelay",void 0),$e(this,"_createURL",void 0),$e(this,"parseURL",void 0),$e(this,"getLocation",void 0),$e(this,"writeTimer",void 0),$e(this,"inPopState",!1),$e(this,"isDisposed",!1),$e(this,"latestAcknowledgedHistory",0),$e(this,"_start",void 0),$e(this,"_dispose",void 0),$e(this,"_push",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=o,this.getLocation=c,this._start=u,this._dispose=f,this._push=p,Ne(function(d){var m=d.window,h=r.windowTitle&&r.windowTitle(r.read());xa(h),r.latestAcknowledgedHistory=m.history.length})}return Vm(e,[{key:"read",value:function(){return this.parseURL({qsModule:ja,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;Ne(function(i){var a=i.window,s=n.createURL(r),o=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){xa(o),n.shouldWrite(s)&&(n._push?n._push(s):a.history.pushState(r,o||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},Ne(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){return this._createURL({qsModule:ja,routeState:r,location:this.getLocation()})}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,Ne(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(r){var n=this;return Ne(function(i){var a=i.window,s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),e}();function zm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,r=t===void 0?function(m){var h=m.qsModule,l=m.routeState,g=m.location,v=g.protocol,b=g.hostname,y=g.port,S=y===void 0?"":y,P=g.pathname,w=g.hash,R=h.stringify(l),O=S===""?"":":".concat(S);return R?"".concat(v,"//").concat(b).concat(O).concat(P,"?").concat(R).concat(w):"".concat(v,"//").concat(b).concat(O).concat(P).concat(w)}:t,n=e.parseURL,i=n===void 0?function(m){var h=m.qsModule,l=m.location;return h.parse(l.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,s=a===void 0?400:a,o=e.windowTitle,c=e.getLocation,u=c===void 0?function(){return Ne(function(m){var h=m.window;return h.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,f=e.start,p=e.dispose,d=e.push;return new Km({createURL:r,parseURL:i,writeDelay:s,windowTitle:o,getLocation:u,start:f,dispose:p,push:d})}function cr(e){return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(e)}function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_a(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Js(e,t,r){return t=Jm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jm(e){var t=Ym(e,"string");return cr(t)==="symbol"?t:String(t)}function Ym(e,t){if(cr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gm=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.router,n=r===void 0?zm():r,i=t.stateMapping,a=i===void 0?fm():i;return function(s){var o=s.instantSearchInstance;function c(p){var d=Object.keys(p).reduce(function(h,l){return Rr(Rr({},h),{},Js({},l,p[l]))},o.mainIndex.getWidgetUiState({})),m=a.stateToRoute(d);return n.createURL(m)}o._createURL=c;var u=void 0,f=o._initialUiState;return{onStateChange:function(d){var m=d.uiState,h=a.stateToRoute(m);(u===void 0||!hr(u,h))&&(n.write(h),u=h)},subscribe:function(){o._initialUiState=Rr(Rr({},f),a.routeToState(n.read())),n.onUpdate(function(d){o.setUiState(a.routeToState(d))})},started:function(){},unsubscribe:function(){n.dispose()}}}};function Ys(e,t,r){var n=St(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(n);s&&s.widgetParams&&(a=s.widgetParams)}var o=Object.keys(a).filter(function(c){return a[c]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&Ys(i.getWidgets(),t,r)})}function Zm(){return Ne(function(e){var t,r,n=e.window;return((t=n.navigator)===null||t===void 0||(r=t.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Xm(){return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var s=t.client;r.ua=s.transporter&&s.transporter.userAgent?s.transporter.userAgent.value:s._ua,Ys(t.mainIndex.getWidgets(),t,r),n.content=JSON.stringify(r),i.appendChild(n)},0)},started:function(){},unsubscribe:function(){n.remove()}}}}function ht(e){return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(e)}function Ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ia(Object(r),!0).forEach(function(n){z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ia(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gs(n.key),n)}}function rg(e,t,r){return t&&Ea(e.prototype,t),r&&Ea(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ng(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&An(e,t)}function An(e,t){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},An(e,t)}function ig(e){var t=sg();return function(){var n=Nr(e),i;if(t){var a=Nr(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ag(this,i)}}function ag(e,t){if(t&&(ht(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nr(e)}function z(e,t,r){return t=Gs(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gs(e){var t=og(e,"string");return ht(t)==="symbol"?t:String(t)}function og(e,t){if(ht(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ht(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fe=K({name:"instantsearch"});function ug(){return"#"}var cg=function(e){ng(r,e);var t=ig(r);function r(n){var i;tg(this,r),i=t.call(this),z(k(i),"client",void 0),z(k(i),"indexName",void 0),z(k(i),"insightsClient",void 0),z(k(i),"onStateChange",null),z(k(i),"helper",void 0),z(k(i),"mainHelper",void 0),z(k(i),"mainIndex",void 0),z(k(i),"started",void 0),z(k(i),"templatesConfig",void 0),z(k(i),"renderState",{}),z(k(i),"_stalledSearchDelay",void 0),z(k(i),"_searchStalledTimer",void 0),z(k(i),"_initialUiState",void 0),z(k(i),"_initialResults",void 0),z(k(i),"_createURL",void 0),z(k(i),"_searchFunction",void 0),z(k(i),"_mainHelperSearch",void 0),z(k(i),"middleware",[]),z(k(i),"sendEventToInsights",void 0),z(k(i),"status","idle"),z(k(i),"error",void 0),z(k(i),"scheduleSearch",pt(function(){i.started&&i.mainHelper.search()})),z(k(i),"scheduleRender",pt(function(){var w,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(w=i.mainHelper)!==null&&w!==void 0&&w.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,R&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:k(i)}),i.emit("render")})),z(k(i),"onInternalStateChange",pt(function(){var w=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(R){var O=R.instance;O.onStateChange({uiState:w})})})),i.setMaxListeners(100);var a=n.indexName,s=a===void 0?null:a,o=n.numberLocale,c=n.initialUiState,u=c===void 0?{}:c,f=n.routing,p=f===void 0?null:f,d=n.searchFunction,m=n.stalledSearchDelay,h=m===void 0?200:m,l=n.searchClient,g=l===void 0?null:l,v=n.insightsClient,b=v===void 0?null:v,y=n.onStateChange,S=y===void 0?null:y;if(s===null)throw new Error(Fe("The `indexName` option is required."));if(g===null)throw new Error(Fe("The `searchClient` option is required."));if(typeof g.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof g.addAlgoliaAgent=="function"&&g.addAlgoliaAgent("instantsearch.js (".concat(Cs,")")),b&&typeof b!="function")throw new Error(Fe("The `insightsClient` option should be a function."));if(i.client=g,i.insightsClient=b,i.indexName=s,i.helper=null,i.mainHelper=null,i.mainIndex=Ws({indexName:s}),i.onStateChange=S,i.started=!1,i.templatesConfig={helpers:im({numberLocale:o}),compileOptions:{}},i._stalledSearchDelay=h,i._searchStalledTimer=null,i._createURL=ug,i._initialUiState=u,i._initialResults=null,d&&(i._searchFunction=d),i.sendEventToInsights=C,p){var P=typeof p=="boolean"?void 0:p;i.use(Gm(P))}return Zm()&&i.use(Xm()),i}return rg(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var c=s.map(function(u){var f=eg({subscribe:C,started:C,unsubscribe:C,onStateChange:C},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:f}),f});return this.started&&c.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(o){return a.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!a.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Fe("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(Fe("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Fe("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(Fe("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Fe("The `start` method has already been called once."));var a=this.mainHelper||xe(this.client,this.indexName);if(a.search=function(){return i.status="loading",i.scheduleRender(!1),a.searchOnlyWithDerivedHelpers()},this._searchFunction){var s={search:function(){return new Promise(C)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var c=i.mainIndex.getHelper(),u=xe(s,c.state.index,c.state);return u.once("search",function(f){var p=f.state;c.overrideStateWithoutTriggeringChangeEvent(p),i._mainHelperSearch()}),u.on("change",function(f){var p=f.state;c.setState(p)}),i._searchFunction(u),a}}if(a.on("error",function(c){var u=c.error;if(!(u instanceof Error)){var f=u;u=Object.keys(f).reduce(function(p,d){return p[d]=f[d],p},new Error(f.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=a,this.middleware.forEach(function(c){var u=c.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var o=this.scheduleSearch;this.scheduleSearch=pt(C),pt(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var u=c.instance;u.started()})}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(i){var a=i.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Fe("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:o,setUiState:function(u){gn(typeof u=="function"?u(o):u,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(gn(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Fe("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Fe("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}(Kn);const fg=cg;var lg=["page"];function hg(e,t){if(e==null)return{};var r=dg(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dg(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ta(e){var t=e||{};t.page;var r=hg(t,lg);return r}var cn="ais.infiniteHits";function mg(){return{read:function(t){var r=t.state,n=Ne(function(a){var s=a.window;return s.sessionStorage});if(!n)return null;try{var i=JSON.parse(n.getItem(cn));return i&&hr(i.state,Ta(r))?i.hits:null}catch(a){if(a instanceof SyntaxError)try{n.removeItem(cn)}catch{}return null}},write:function(t){var r=t.state,n=t.hits,i=Ne(function(a){var s=a.window;return s.sessionStorage});if(i)try{i.setItem(cn,JSON.stringify({state:Ta(r),hits:n}))}catch{}}}}var Ee=function(t){return new fg(t)};Ee.version=Cs;Ee.createInfiniteHitsSessionStorageCache=lr(mg);Ee.highlight=lr(Ms);Ee.reverseHighlight=lr(Us);Ee.snippet=lr(Qs);Ee.reverseSnippet=lr(qs);Ee.insights=Ga;Ee.getInsightsAnonymousUserToken=Xd;Object.defineProperty(Ee,"widgets",{get:function(){throw new ReferenceError(`"instantsearch.widgets" are not available from the ES build.

To import the widgets:

import { searchBox } from 'instantsearch.js/es/widgets'`)}});Object.defineProperty(Ee,"connectors",{get:function(){throw new ReferenceError(`"instantsearch.connectors" are not available from the ES build.

To import the connectors:

import { connectSearchBox } from 'instantsearch.js/es/connectors'`)}});const gg=Ee;var pg="4.8.5",Zs=function(e){var t;return jt(((t={mixins:[M({name:"InstantSearch"})],provide:function(){return{$_ais_instantSearchInstance:this.instantSearchInstance}},watch:{searchClient:function(r){this.instantSearchInstance.helper.setClient(r).search()},indexName:function(r){this.instantSearchInstance.helper.setIndex(r).search()},stalledSearchDelay:function(r){this.instantSearchInstance._stalledSearchDelay=r},routing:function(){throw new Error(`routing configuration can not be changed dynamically at this point.

Please open a new issue: https://github.com/algolia/instantsearch.js/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props`)},onStateChange:function(){throw new Error(`onStateChange configuration can not be changed dynamically at this point.

Please open a new issue: https://github.com/algolia/instantsearch.js/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props`)},searchFunction:function(r){this.instantSearchInstance._searchFunction=r},middlewares:{immediate:!0,handler:function(r,n){var i=this;(n||[]).filter(function(a){return(r||[]).indexOf(a)===-1}).forEach(function(a){i.instantSearchInstance.unuse(a)}),(r||[]).filter(function(a){return(n||[]).indexOf(a)===-1}).forEach(function(a){i.instantSearchInstance.use(a)})}}},created:function(){var r=this.instantSearchInstance.client;typeof r.addAlgoliaAgent=="function"&&(r.addAlgoliaAgent("Vue ("+io+")"),r.addAlgoliaAgent("Vue InstantSearch ("+pg+")"))},mounted:function(){var r=this;this.$nextTick(function(){r.instantSearchInstance.started||r.instantSearchInstance.start()})}}).beforeUnmount=function(){this.instantSearchInstance.started&&this.instantSearchInstance.dispose(),this.instantSearchInstance.__initialSearchResults=void 0},t),e)},Aa=`Vue InstantSearch: You used the prop api-key or app-id.
These have been replaced by search-client.

See more info here: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client`;const vg=Zs({name:"AisInstantSearch",props:{searchClient:{type:Object,required:!0},insightsClient:{type:Function,default:void 0},indexName:{type:String,required:!0},routing:{default:void 0,validator:function(e){return!(typeof e=="boolean"||!e.router&&!e.stateMapping)||(Rt("The `routing` option expects an object with `router` and/or `stateMapping`.\n\nSee https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-routing"),!1)}},stalledSearchDelay:{type:Number,default:void 0},searchFunction:{type:Function,default:void 0},onStateChange:{type:Function,default:void 0},initialUiState:{type:Object,default:void 0},apiKey:{type:String,default:void 0,validator:function(e){return e&&Rt(Aa),!1}},appId:{type:String,default:void 0,validator:function(e){return e&&Rt(Aa),!1}},middlewares:{type:Array,default:null}},data:function(){return{instantSearchInstance:gg({searchClient:this.searchClient,insightsClient:this.insightsClient,indexName:this.indexName,routing:this.routing,stalledSearchDelay:this.stalledSearchDelay,searchFunction:this.searchFunction,onStateChange:this.onStateChange,initialUiState:this.initialUiState})}},render:fr(function(e){var t;return e("div",{class:(t={},t[this.suit()]=!0,t[this.suit("","ssr")]=!1,t)},Cr(this))})});Zs({name:"AisInstantSearchSsr",inject:{$_ais_ssrInstantSearchInstance:{default:function(){throw new Error("`createServerRootMixin` is required when using SSR.")}}},data:function(){return{instantSearchInstance:this.$_ais_ssrInstantSearchInstance}},render:fr(function(e){var t;return e("div",{class:(t={},t[this.suit()]=!0,t[this.suit("","ssr")]=!0,t)},Cr(this))})});B({connector:Cc},{$$widgetType:"ais.infiniteHits"}),M({name:"InfiniteHits"});M({name:"Menu"}),B({connector:Xa},{$$widgetType:"ais.menu"}),ge();M({name:"MenuSelect"}),B({connector:Xa},{$$widgetType:"ais.menuSelect"}),ge();Ie(" See all ");B({connector:of},{$$widgetType:"ais.numericMenu"}),M({name:"NumericMenu"}),ge();M({name:"Pagination"}),B({connector:yf},{$$widgetType:"ais.pagination"}),ge();M({name:"Panel"}),jd();M({name:"PoweredBy"});M({name:"QueryRuleContext"}),B({connector:Is},{$$widgetType:"ais.queryRuleContext"});M({name:"QueryRuleCustomData"}),B({connector:Is},{$$widgetType:"ais.queryRuleCustomData"});M({name:"RangeInput"}),B({connector:Ff},{$$widgetType:"ais.rangeInput"}),ge();Ie("to");Ie(" Go ");M({name:"RatingMenu"}),B({connector:al},{$$widgetType:"ais.ratingMenu"}),ge();E("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},[E("symbol",{id:"ais-RatingMenu-starSymbol",viewBox:"0 0 24 24"},[E("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"})]),E("symbol",{id:"ais-RatingMenu-starEmptySymbol",viewBox:"0 0 24 24"},[E("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"})])],-1);E("use",{"xlink:href":"#ais-RatingMenu-starSymbol"},null,-1);E("use",{"xlink:href":"#ais-RatingMenu-starEmptySymbol"},null,-1);Ie("& Up");const Gn={name:"SearchInput",mixins:[M({name:"SearchBox"})],props:{placeholder:{type:String,default:"Search here…"},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!1},shouldShowLoadingIndicator:{type:Boolean,default:!1},submitTitle:{type:String,default:"Search"},resetTitle:{type:String,default:"Clear"},value:{type:String,required:!1,default:void 0},modelValue:{type:String,required:!1,default:void 0}},emits:["input","update:modelValue","blur","focus","reset"],data:function(){return{query:""}},methods:{isFocused:function(){return document.activeElement===this.$refs.input},onFormSubmit:function(){this.$refs.input.blur()},onFormReset:function(){this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("reset")}}};var yg=E("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z",fillRule:"evenodd"},null,-1),bg=E("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z",fillRule:"evenodd"},null,-1),Sg=E("g",{fill:"none","fill-rule":"evenodd"},[E("g",{transform:"translate(1 1)","stroke-width":"2"},[E("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),E("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[E("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1);function wg(e,t,r,n,i,a){return G(),te("form",{action:"",role:"search",novalidate:"",class:e.suit("form"),onSubmit:t[4]||(t[4]=fn(function(){for(var s=[],o=arguments.length;o--;)s[o]=arguments[o];return a.onFormSubmit&&a.onFormSubmit.apply(a,s)},["prevent"])),onReset:t[5]||(t[5]=fn(function(){for(var s=[],o=arguments.length;o--;)s[o]=arguments[o];return a.onFormReset&&a.onFormReset.apply(a,s)},["prevent"]))},[E("input",{type:"search",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",required:"",maxlength:"512","aria-label":"Search",placeholder:r.placeholder,autofocus:r.autofocus,class:e.suit("input"),value:r.value||r.modelValue,onFocus:t[1]||(t[1]=function(s){return e.$emit("focus",s)}),onBlur:t[2]||(t[2]=function(s){return e.$emit("blur",s)}),onInput:t[3]||(t[3]=function(s){e.$emit("input",s.target.value),e.$emit("update:modelValue",s.target.value)}),ref:"input"},null,42,["placeholder","autofocus","value"]),E("button",{type:"submit",title:r.submitTitle,class:e.suit("submit"),hidden:r.showLoadingIndicator&&r.shouldShowLoadingIndicator},[Se(e.$slots,"submit-icon",{},function(){return[(G(),te("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 40 40",class:e.suit("submitIcon")},[yg],2))]})],10,["title","hidden"]),E("button",{type:"reset",title:r.resetTitle,class:e.suit("reset"),hidden:!r.value&&!r.modelValue||r.showLoadingIndicator&&r.shouldShowLoadingIndicator},[Se(e.$slots,"reset-icon",{},function(){return[(G(),te("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",class:e.suit("resetIcon")},[bg],2))]})],10,["title","hidden"]),r.showLoadingIndicator?(G(),te("span",{key:0,hidden:!r.shouldShowLoadingIndicator,class:e.suit("loadingIndicator")},[Se(e.$slots,"loading-indicator",{},function(){return[(G(),te("svg",{role:"img","aria-label":"Results are loading",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",stroke:"#444",viewBox:"0 0 38 38",class:e.suit("loadingIcon")},[Sg],2))]})],10,["hidden"])):Ce("",!0)],34)}Gn.render=wg;var Pg=function(){};M({name:"RefinementList"}),B({connector:Hf},{$$widgetType:"ais.refinementList"}),ge();var Or;const Rg=((Or={name:"AisStateResults",mixins:[B({connector:!0}),M({name:"StateResults"})],props:{catchError:{type:Boolean,default:!1}},data:function(){var e=this;return{renderFn:function(){var t=e.instantSearchInstance,r=t.status,n=t.error,i=e.getParentIndex().getResults(),a=e.getParentIndex().getHelper(),s=a?a.state:null;e.state={results:i,state:s,status:r,error:n}}}},created:function(){this.instantSearchInstance.addListener("render",this.renderFn),this.renderFn()}}).beforeUnmount=function(){this.widget&&(this.instantSearchInstance.removeListener("render",this.renderFn),this.errorFn&&this.instantSearchInstance.removeListener("error",this.errorFn))},Or.watch={catchError:{immediate:!0,handler:function(e){e?(this.errorFn=function(){},this.instantSearchInstance.addListener("error",this.errorFn)):this.errorFn&&(this.instantSearchInstance.removeListener("error",this.errorFn),this.errorFn=void 0)}}},Or.computed={stateResults:function(){var e=this.state,t=e.results,r=e.state,n=e.status,i=e.error;return jt({},t,{results:t,state:r,status:n,error:i})}},Or);var Og=E("p",null," Use this component to have a different layout based on a certain state. ",-1),$g=E("p",null,"Fill in the slot, and get access to the following things:",-1);function jg(e,t,r,n,i,a){return e.state&&e.state.state&&e.state.results?(G(),te("div",{key:0,class:e.suit()},[Se(e.$slots,"default",a.stateResults,function(){return[Og,$g,E("pre",null,"results: "+We(Object.keys(e.state.results)),1),E("pre",null,"state: "+We(Object.keys(e.state.state)),1),E("pre",null,"status: "+We(e.state.status),1),E("pre",null,"error: "+We(e.state.error),1)]})],2)):Ce("",!0)}Rg.render=jg;const Xs={name:"AisSearchBox",mixins:[B({connector:Uf},{$$widgetType:"ais.searchBox"}),M({name:"SearchBox"})],components:{SearchInput:Gn},props:{placeholder:{type:String,default:"Search here…"},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!1},submitTitle:{type:String,default:"Search"},resetTitle:{type:String,default:"Clear"},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},queryHook:{type:Function,default:void 0}},data:function(){return{localValue:"",isVue2:ho,isVue3:mo}},computed:{widgetParams:function(){return{queryHook:this.queryHook}},isControlled:function(){return this.value!==void 0||this.modelValue!==void 0},model:function(){return this.value||this.modelValue},currentRefinement:{get:function(){this.isControlled&&this.model!==this.localValue&&(this.localValue=this.model,this.$emit("input",this.model),this.$emit("update:modelValue",this.model),this.state.refine(this.model));var e=this.$refs.searchInput;return e&&e.isFocused()?this.localValue:this.model||this.state.query||""},set:function(e){this.localValue=e,this.state.refine(e),this.isControlled&&(this.$emit("input",e),this.$emit("update:modelValue",e))}}}};function Fg(e,t,r,n,i,a){var s=Hn("search-input");return e.state?(G(),te("div",{key:0,class:e.suit()},[Se(e.$slots,"default",{currentRefinement:a.currentRefinement,isSearchStalled:e.state.isSearchStalled,refine:e.state.refine},function(){return[E(s,{onFocus:t[1]||(t[1]=function(o){return e.$emit("focus",o)}),onBlur:t[2]||(t[2]=function(o){return e.$emit("blur",o)}),onReset:t[3]||(t[3]=function(o){return e.$emit("reset")}),placeholder:r.placeholder,autofocus:r.autofocus,"show-loading-indicator":r.showLoadingIndicator,"should-show-loading-indicator":e.state.isSearchStalled,"submit-title":r.submitTitle,"reset-title":r.resetTitle,"class-names":e.classNames,modelValue:a.currentRefinement,"onUpdate:modelValue":t[4]||(t[4]=function(o){return a.currentRefinement=o}),ref:"searchInput"},ao({default:Je(function(){return[i.isVue2?Se(e.$slots,"loading-indicator",{key:0,slot:"loading-indicator"}):Ce("",!0),i.isVue2?Se(e.$slots,"submit-icon",{key:1,slot:"submit-icon"}):Ce("",!0),i.isVue2?Se(e.$slots,"reset-icon",{key:2,slot:"reset-icon"}):Ce("",!0)]}),_:2},[i.isVue3?{name:"loading-indicator",fn:Je(function(){return[Se(e.$slots,"loading-indicator")]})}:void 0,i.isVue3?{name:"submit-icon",fn:Je(function(){return[Se(e.$slots,"submit-icon")]})}:void 0,i.isVue3?{name:"reset-icon",fn:Je(function(){return[Se(e.$slots,"reset-icon")]})}:void 0]),1032,["placeholder","autofocus","show-loading-indicator","should-show-loading-indicator","submit-title","reset-title","class-names","modelValue"])]})],2)):Ce("",!0)}Xs.render=Fg;M({name:"Snippet"});M({name:"SortBy"}),B({connector:kf},{$$widgetType:"ais.sortBy"}),ge();B({connector:ll},{$$widgetType:"ais.stats"}),M({name:"Stats"});M({name:"ToggleRefinement"}),B({connector:pl},{$$widgetType:"ais.toggleRefinement"}),ge();B({connector:md},{$$widgetType:"ais.voiceSearch"}),M({name:"VoiceSearch"});E("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1);E("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"},null,-1);E("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"},null,-1);E("line",{x1:"12",y1:"19",x2:"12",y2:"23"},null,-1);E("line",{x1:"8",y1:"23",x2:"16",y2:"23"},null,-1);E("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"},null,-1);E("line",{x1:"12",y1:"19",x2:"12",y2:"23"},null,-1);E("line",{x1:"8",y1:"23",x2:"16",y2:"23"},null,-1);M({name:"RelevantSort"}),B({connector:bd},{$$widgetType:"ais.relevantSort"});const xg={name:"AisDynamicWidgets",mixins:[B({connector:Od},{$$widgetType:"ais.dynamicWidgets"}),M({name:"DynamicWidgets"})],props:{transformItems:{type:Function,default:void 0},facets:{type:Array,default:void 0},maxValuesPerFacet:{type:Number,default:void 0}},render:fr(function(e){var t=this,r=new Map;if((Cr(this)||[]).forEach(function(i){var a=function s(o){var c,u=o.props;if(u){if(u.attribute)return u.attribute;if(Array.isArray(u.attributes))return u.attributes[0]}if(c=o.children&&o.children.default&&o.children.default(),Array.isArray(c))return c.reduce(function(f,p){return f||s(p)},void 0)}(i);a&&r.set(a,e("div",{key:a,class:[t.suit("widget")]},[i]))}),!this.state){var n=[];return r.forEach(function(i){return n.push(i)}),e("div",jt({class:[this.suit()]},{attrs:{hidden:!0}}),n)}return e("div",{class:[this.suit()]},this.state.attributesToRender.map(function(i){return r.get(i)}))}),computed:{widgetParams:function(){return{transformItems:this.transformItems,facets:this.facets,maxValuesPerFacet:this.maxValuesPerFacet,widgets:[]}}}};Object.assign({},xg,{name:"AisExperimentalDynamicWidgets",mounted:function(){Rt("Use AisDynamicWidgets instead of AisExperimentalDynamicWidgets.")}});const _g=je("header",{class:"pt-16 pb-12 text-center"},[je("h1",{class:"text-4xl font-bold text-secondary leading-tight"},"Haku"),je("p",{class:"text-sm leading-relaxed"},"Hae koirametsää nimellä, kaupungilla, avainsanalla...")],-1),Ig={class:"max-w-sm mx-auto"},Eg={class:"bg-secondary flex flex-col justify-start pb-12 min-h-screen"},Tg={class:"max-w-lg mx-auto w-full"},Ag={class:"text-lg font-bold"},Hg={class:"text-sm"},Dg=je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[je("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1),Wg={__name:"haku",setup(e){uo({title:"Haku",description:"Hae koirametsää nimellä, kaupungilla, avainsanalla tai osoitteella. Tehokas haku koirametsiin."});const t="dev_koirametsat",r=co();return(n,i)=>{const a=oo;return G(),so(Wr,null,[_g,je("main",null,[E(rt(vg),{"index-name":t,"search-client":rt(r)},{default:Je(()=>[je("div",Ig,[E(rt(Xs),{placeholder:"Hae nimellä, paikkakunnalla...","submit-title":"Hae","reset-title":"Tyhjennä"})]),je("div",Eg,[je("div",Tg,[E(rt(As),null,{item:Je(({item:s})=>[E(a,{to:s.path},{default:Je(()=>[je("div",null,[je("p",Ag,[E(rt(Dr),{attribute:"title",hit:s},null,8,["hit"])]),je("p",Hg,[E(rt(Dr),{attribute:"tags",hit:s},null,8,["hit"])])]),Dg]),_:2},1032,["to"])]),_:1})])])]),_:1},8,["search-client"])])],64)}}};export{Wg as default};
